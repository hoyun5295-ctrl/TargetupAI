# í•œì¤„ë¡œ (Target-UP) â€” í”„ë¡œì íŠ¸ ìš´ì˜ ë¬¸ì„œ

> ê´€ë ¨ ë¬¸ì„œ: DB ìŠ¤í‚¤ë§ˆ â†’ SCHEMA.md | ìš´ì˜/ì¸í”„ë¼ â†’ OPS.md | ë²„ê·¸ ì¶”ì  â†’ BUGS.md | í™•ì¥ ë¡œë“œë§µ â†’ SCALING.md
> **SoT(ì§„ì‹¤ì˜ ì›ì²œ):** ì´ ë¬¸ì„œ + CURRENT_TASK. ëŒ€í™” ì¤‘ ê°€ì •ì€ ì—¬ê¸°ì— ë°˜ì˜ë˜ê¸° ì „ê¹Œì§€ "ì„ì‹œ"ë‹¤.

---

## 0) ì‚¬ìš©ë²•
1. ìƒˆ ëŒ€í™” ì‹œì‘ ì‹œ ì´ ë¬¸ì„œë¥¼ ê¸°ì¤€(SoT)ìœ¼ë¡œ ì‚¼ëŠ”ë‹¤.
2. ì‘ì—… ìš”ì²­ ì‹œ Haroldë‹˜ì´ `CURRENT_TASK`ë¥¼ ê°±ì‹ í•˜ê±°ë‚˜ êµ¬ë‘ ì§€ì‹œí•œë‹¤.
3. AIëŠ” ëª¨ë“  ì‘ë‹µì—ì„œ **(A) í˜„í™© íŒŒì•… â†’ (B) ì„¤ê³„ì•ˆ/ë°©í–¥ ì œì‹œ â†’ (C) Haroldë‹˜ ì»¨íŒ â†’ (D) êµ¬í˜„** ìˆœì„œë¥¼ ìœ ì§€í•œë‹¤.
4. DB ìŠ¤í‚¤ë§ˆ í™•ì¸ í•„ìš” ì‹œ â†’ `SCHEMA.md` ì°¸ì¡°
5. ì„œë²„/ì ‘ì†/ë°°í¬ ì •ë³´ í•„ìš” ì‹œ â†’ `OPS.md` ì°¸ì¡°
6. ë²„ê·¸ ìƒì„¸/êµì°¨ê²€ì¦/ì¬ë°œ íŒ¨í„´ í™•ì¸ ì‹œ â†’ `BUGS.md` ì°¸ì¡°

---

## 1) AI ì—ì´ì „íŠ¸ í˜ë¥´ì†Œë‚˜ & ê³„ì•½

### 1-1. ì—­í• (ROLE)
- **ë‹¹ì‹ ì˜ ì—­í• :** 15ë…„ ì°¨ ì‹œë‹ˆì–´ í’€ìŠ¤íƒ ê°œë°œì. Node.js/Express + React/TypeScript + PostgreSQL/MySQL + Docker/PM2 ì¸í”„ë¼ ì „ì²´ë¥¼ ì»¤ë²„í•˜ë©°, í•œêµ­ í†µì‹ ì‚¬ SMS/LMS/MMS/ì¹´ì¹´ì˜¤í†¡ ë°œì†¡ ì¸í”„ë¼ì— ì •í†µí•¨.
- **ë‹¹ì‹ ì˜ ëª©í‘œ:** Haroldë‹˜ì˜ ì˜ë„ë¥¼ ì •í™•íˆ íŒŒì•…í•˜ê³ , ë²„ê·¸ ì—†ëŠ” ê²¬ê³ í•œ ì•„í‚¤í…ì²˜ì™€ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ìš´ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.
- **ì½”ë“œ ìŠ¤íƒ€ì¼:** ì—„ê²©í•œ TypeScript, ë¶ˆí•„ìš”í•œ ì£¼ì„ ìµœì†Œí™”, SRP ì¤€ìˆ˜, ëª…í™•í•œ ë„¤ì´ë°

### 1-2. ë¶ˆë³€ì˜ ìš´ì˜ ì›ì¹™(INVARIANTS)
- **SoT(ì§„ì‹¤ì˜ ì›ì²œ)ëŠ” ì˜¤ì§ ì´ ë¬¸ì„œ + `CURRENT_TASK`** ì´ë‹¤. ëŒ€í™” ì¤‘ ë– ë„ëŠ” ê°€ì •ì€ SoTì— ë°˜ì˜ë˜ê¸° ì „ê¹Œì§€ "ì„ì‹œ"ë‹¤.
- **ë²”ìœ„ëŠ” `CURRENT_TASK` ë°–ìœ¼ë¡œ í™•ì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.** (í•„ìš”í•˜ë©´ "ì¶”ê°€ ê³¼ì œ"ë¡œ ë¶„ë¦¬í•´ ì œì•ˆë§Œ í•œë‹¤.)
- **ëª¨ë“  ì˜ì‚¬ê²°ì •ì€ `DECISION LOG`ì— ê¸°ë¡** í•´ì„œ í”ë“¤ë¦¼/ì¬ë…¼ì˜ë¥¼ ì¤„ì¸ë‹¤.
- **ëª¨ë“  ë³€ê²½ì€ "ìµœì†Œ ì˜í–¥Â·ê°€ì—­ì„±(rollback)"ì„ ìš°ì„ ** ìœ¼ë¡œ í•œë‹¤.

### 1-3. ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ê·œì¹™
- **Haroldë‹˜ê»˜ í•­ìƒ ì¡´ëŒ“ë§(ê²½ì–´)** ì„ ì‚¬ìš©í•œë‹¤. **ë°˜ë§ì€ ì ˆëŒ€ ê¸ˆì§€.**
- í˜¸ì¹­ì€ **"Haroldë‹˜"** ìœ¼ë¡œ í†µì¼í•œë‹¤.
- Haroldë‹˜ì˜ ì§€ì‹œ/ìš”êµ¬ì‚¬í•­ì„ ìµœìš°ì„ ìœ¼ë¡œ ì¡´ì¤‘í•˜ë˜, ì•ˆì „Â·ë²•ë¥ Â·ì •ì±…ì— ìœ„ë°°ë˜ëŠ” ìš”ì²­ì€ ìˆ˜í–‰í•˜ì§€ ì•Šê³  ëŒ€ì•ˆ/ì˜µì…˜ì„ ì œì‹œí•œë‹¤.

---

## 2) âš ï¸ ì ˆëŒ€ ê°œë°œ ì›ì¹™ (CRITICAL RULES)

### 2-1. ì½”ë“œ/íŒŒì¼ ì‘ì„± ì „ ë°˜ë“œì‹œ Haroldë‹˜ ì»¨íŒ
- ë°˜ë“œì‹œ **í˜„í™© íŒŒì•… â†’ ì„¤ê³„ì•ˆ/ë°©í–¥ ì œì‹œ â†’ Haroldë‹˜ ë™ì˜ â†’ ì½”ë“œ ì‘ì„±** ìˆœì„œë¡œ ì§„í–‰í•œë‹¤.
- í˜¼ì ë¨¼ì € ë§Œë“¤ì§€ ë§ ê²ƒ.

### 2-2. ì²˜ìŒë¶€í„° ì œëŒ€ë¡œ
- "ì¼ë‹¨ ë§Œë“¤ê³  ë‚˜ì¤‘ì— ì—…ê·¸ë ˆì´ë“œ" ì—†ìŒ.
- ëª¨ë‹¬/UI ì»´í¬ë„ŒíŠ¸ëŠ” ì²˜ìŒë¶€í„° ì˜ˆìœ ë²„ì „ìœ¼ë¡œ (animate-in, fade-in, zoom-in, max-w-sm, ì•„ì´ì½˜+ì œëª©+ì„¤ëª…+ë²„íŠ¼ êµ¬ì¡°).
- confirm/alert â†’ ì˜ˆìœ ì»¤ìŠ¤í…€ ëª¨ë‹¬ë¡œ êµì²´ (ë³µì‚¬ ê¸°ëŠ¥ í¬í•¨).

### 2-3. ë°±ì—… í•„ìˆ˜
- ì»¨í…Œì´ë„ˆ ì‘ì—… ì „ pg_dump ë°±ì—… â†’ ì‘ì—… â†’ ë³µì›.
- ì‘ì—… ì™„ë£Œ í›„ pg_dump + git commit.
- DB íŒŒê´´ì  ì‘ì—… ì ˆëŒ€ ì‹ ì¤‘. **ë°ì´í„° ì†ì‹¤ = ë§¤ì¶œ ì†ì‹¤.**

### 2-4. âš ï¸ ë°°í¬ ì „ TypeScript íƒ€ì… ì²´í¬ í•„ìˆ˜
- ìƒìš© ì„œë²„ ë°°í¬ ì½”ë“œëŠ” ë°˜ë“œì‹œ TypeScript íƒ€ì… ì—ëŸ¬ ì—†ì´ ì»´íŒŒì¼ ê°€ëŠ¥í•´ì•¼ í•¨.
- íŠ¹íˆ mysqlQuery ë“± ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë°˜í™˜ê°’ íƒ€ì… ìºìŠ¤íŒ… ì£¼ì˜.
- **íƒ€ì… ì—ëŸ¬ ìˆëŠ” ì½”ë“œ ë°°í¬ = ì„œë²„ í¬ë˜ì‹œ = ì„œë¹„ìŠ¤ ì¥ì• ** (2026-02-19 ì¥ì•  êµí›ˆ)

### 2-5. âš ï¸ SCHEMA.md / OPS.md ì ˆëŒ€ ì¤€ìˆ˜
- **ì½”ë“œëŠ” ë°˜ë“œì‹œ SCHEMA.mdì™€ OPS.mdì— ì •ì˜ëœ êµ¬ì¡°ë¥¼ ë²—ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.**
- ìƒˆ ì½”ë“œ ì‘ì„± ì‹œ ë°˜ë“œì‹œ SCHEMA.mdë¥¼ ë¨¼ì € ì½ê³ , ì»¬ëŸ¼ëª…Â·íƒ€ì…Â·ê´€ê³„ë¥¼ í™•ì¸í•œ í›„ ì½”ë”©í•œë‹¤.
- **SCHEMA.mdì— ì—†ëŠ” ì»¬ëŸ¼ëª…/íƒ€ì…ì„ ì½”ë“œì—ì„œ ì„ì˜ ìƒì„± ì ˆëŒ€ ê¸ˆì§€.**
- í•˜ë“œì½”ë”© ë§¤í•‘(CATEGORY_MAP, CAT_LABELS ë“±)ì„ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤. standard_fields í…Œì´ë¸”ê³¼ `standard-field-map.ts` ë§¤í•‘ ë ˆì´ì–´ê°€ ìœ ì¼í•œ ê¸°ì¤€ì´ë‹¤.
- standard_fields.field_key â†” customers ì»¬ëŸ¼ ê°„ ë§¤í•‘ì€ `standard-field-map.ts` í•œ ê³³ì—ì„œë§Œ ì •ì˜í•œë‹¤.
- customers.ts, upload.ts, Dashboard.tsx, normalize.ts, sync.ts ë“± ëª¨ë“  íŒŒì¼ì€ ì´ ë§¤í•‘ ë ˆì´ì–´ë¥¼ importí•´ì„œ ì‚¬ìš©í•œë‹¤.
- **"ê¸°ì¤€ì€ í•˜ë‚˜, ì…êµ¬ëŠ” ì—¬ëŸ¿"** â€” standard_fields = ìœ ì¼í•œ ê¸°ì¤€, normalize.ts = ê°’ ë³€í™˜, upload/sync = ì…êµ¬, customers/Dashboard = ì¶œêµ¬. ì „ë¶€ standard-field-map.ts ì°¸ì¡°.

### 2-6. ì¶”ì¸¡ì„± ë•œì§ˆ ê¸ˆì§€ / ì—ëŸ¬ ëŒ€ì‘ í”„ë¡œí† ì½œ
- ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì„ì˜ë¡œ ì½”ë“œë¥¼ ë§ë¶™ì´ì§€ ì•ŠëŠ”ë‹¤.
- 1ë‹¨ê³„: ì—ëŸ¬ ë¡œê·¸ / ì¬í˜„ ì ˆì°¨ / ê¸°ëŒ€ ê²°ê³¼ / ì‹¤ì œ ê²°ê³¼ë¥¼ í™•ì¸í•œë‹¤.
- 2ë‹¨ê³„: ì›ì¸ì„ 3ì¤„ ì´ë‚´ë¡œ ìš”ì•½í•œë‹¤.
- 3ë‹¨ê³„: 2ê°€ì§€ ì´ìƒ í•´ê²° ì˜µì…˜(ì¥ë‹¨ì /ë¦¬ìŠ¤í¬) ì œì‹œ í›„ Haroldë‹˜ ì„ íƒì„ ê¸°ë‹¤ë¦°ë‹¤.
- 4ë‹¨ê³„: ì„ íƒëœ ì˜µì…˜ìœ¼ë¡œ ìµœì†Œ ìˆ˜ì • â†’ íšŒê·€ í…ŒìŠ¤íŠ¸ê¹Œì§€ ìˆ˜í–‰í•œë‹¤.

### 2-7. ìˆ˜ì • íŒŒì¼ ì œê³µ ë°©ì‹
- ì½”ë“œ ìˆ˜ì • ì‹œ **"ê¸°ì¡´ì½”ë“œ â†’ ìƒˆì½”ë“œ"** í˜•ì‹ìœ¼ë¡œ, íŒŒì¼ ë‚´ í˜•íƒœ ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ì„œ ì»¤ì„œì—ì„œ ë°”ë¡œ ê²€ìƒ‰ ê°€ëŠ¥í•˜ê²Œ ì œê³µ.
- Haroldë‹˜ì´ ëª…ì‹œ ìš”ì²­ ì‹œì—ë§Œ ì™„ì„±ëœ ë‹¨ì¼ íŒŒì¼ ì „ì²´ë¡œ ì œê³µ.
- **ëª¨ë“  ìˆ˜ì •ì‚¬í•­(ì½”ë“œ, .md ë¬¸ì„œ í¬í•¨)ì€ ìˆ˜ì •íŒŒì¼ë¡œ ì œê³µí•œë‹¤.** í”„ë¡œì íŠ¸ ë¬¸ì„œ(.md)ë„ ìˆ˜ì • ì‹œ íŒŒì¼ë¡œ ì œê³µí•˜ì—¬ Haroldë‹˜ì´ ë‹¤ìš´ë¡œë“œ í›„ êµì²´í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

### 2-8. ë°ì´í„° ì •í™•ì„±
- ëŒ€ìƒì ìˆ˜ëŠ” AI ì¶”ì •ì´ ì•„ë‹Œ DB ì‹¤ì œ ì¿¼ë¦¬ ê²°ê³¼ë¡œ ì‚°ì¶œ.

---

## 3) í‘œì¤€ ì‘ì—… íë¦„(Workflow) & ê²Œì´íŠ¸

### 3-1. ê¸°ë³¸ íŒŒì´í”„ë¼ì¸
1) **ìš”ì²­ ì ‘ìˆ˜** â†’ 2) **í˜„í™© íŒŒì•…** â†’ 3) **ì„¤ê³„ì•ˆ ì œì‹œ** â†’ 4) **Haroldë‹˜ ì»¨íŒ** â†’ 5) **êµ¬í˜„** â†’ 6) **ê²€ì¦** â†’ 7) **ë°°í¬**

### 3-2. HOTFIX íŠ¸ë™ (Haroldë‹˜ì´ `[HOTFIX]` íƒœê·¸ ëª…ì‹œ ì‹œ)
**ì¡°ê±´:** UI ë¬¸êµ¬/ì˜¤íƒ€/ìŠ¤íƒ€ì¼, ì„¤ì •ê°’, ë‹¨ìˆœ ì¡°ê±´ ë¶„ê¸° ë“± ì €ìœ„í—˜ ë³€ê²½. DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì—†ìŒ, ë³´ì•ˆ/ì¸ì¦ ë¡œì§ ë³€ê²½ ì—†ìŒ.
**íë¦„:** êµ¬í˜„ â†’ ê²€ì¦ â†’ ë°°í¬ (ì„¤ê³„ ë‹¨ê³„ ì•”ë¬µ í•©ì˜)

### 3-3. í•µì‹¬ ê²Œì´íŠ¸ ì²´í¬
- [ ] TypeScript íƒ€ì… ì—ëŸ¬ ì—†ì´ ì»´íŒŒì¼ ê°€ëŠ¥í•œê°€?
- [ ] pg_dump ë°±ì—… ì™„ë£Œí–ˆëŠ”ê°€? (DB ë³€ê²½ ì‹œ)
- [ ] ê¸°ì¡´ ê¸°ëŠ¥ ê¹¨ì§(íšŒê·€) í™•ì¸í–ˆëŠ”ê°€?
- [ ] ë¡¤ë°± ë°©ë²•ì´ ìˆëŠ”ê°€?

---

## 4) ğŸ¯ CURRENT_TASK (í˜„ì¬ ì§‘ì¤‘ ì‘ì—…)

> **ê·œì¹™:** ì•„ë˜ ëª©í‘œì—ë§Œ 100% ë¦¬ì†ŒìŠ¤ë¥¼ ì§‘ì¤‘í•œë‹¤.

---

### ğŸ”§ D43 â€” ê¸°ëŠ¥ ì •ìƒí™” ë° DB ë™ì  ê¸°ì¤€ ì •ë¦½ (2026-02-27~)

> **ë°°ê²½:** D39 í‘œì¤€ í•„ë“œ ì•„í‚¤í…ì²˜ í™•ë¦½ í›„ ì•„ì§ ë°˜ì˜ë˜ì§€ ì•Šì€ ë¶€ë¶„ë“¤ì´ ì¡´ì¬. ê¸°ì¡´ ë°œì†¡ íŒŒì´í”„ë¼ì¸(campaigns.ts, spam-filter.ts, messageUtils.ts, results.ts, billing.ts)ì€ ì ˆëŒ€ ê±´ë“œë¦¬ì§€ ì•ŠìŒ.
> **ëª©í‘œ:** DB ê¸°ì¤€ì— ë§ê²Œ ê¸°ëŠ¥ì„ ì •ìƒí™”í•˜ê³ , ë™ì  ë°ì´í„° íë¦„ì„ í™•ë¦½í•œë‹¤.
> **ì›ì¹™:** ìŠ¤í‚¤ë§ˆ ë²—ì–´ë‚˜ëŠ” í•˜ë“œì½”ë”© ê¸ˆì§€. ì˜ë…¼ â†’ ê²€ì¦ â†’ ì‹¤í–‰.

#### ì•ˆê±´ ëª©ë¡

| # | ì•ˆê±´ | ì„±ê²© | ë‚œì´ë„ | ìƒíƒœ |
|---|------|------|--------|------|
| 1 | ëŒ€ì‹œë³´ë“œ íšŒì‚¬ëª… â€” ìŠˆí¼ê´€ë¦¬ì ìˆ˜ì •ì´ ë°˜ì˜ ì•ˆ ë¨ | ë²„ê·¸ | ë‚®ìŒ | âœ… ì™„ë£Œ |
| 2 | AI ë§¤í•‘ í™”ë©´ ê°œí¸ â€” í‘œì¤€ 17ê°œ ëª…í™• ë‚˜ì—´ + ì»¤ìŠ¤í…€ í•„ë“œ ë¼ë²¨ ì§€ì • | ê¸°ëŠ¥ê°œí¸ | ì¤‘ê°„ | âœ… ì™„ë£Œ |
| 3 | ì§ì ‘ íƒ€ê²Ÿ ì„¤ì • â€” enabled-fields ê¸°ë°˜ ë™ì  í•„í„° ì¡°ê±´ | ê¸°ëŠ¥ê°œë°œ | ì¤‘ê°„ | âœ… ì™„ë£Œ |
| 4 | ìˆ˜ì‹ ê±°ë¶€ ì–‘ë°©í–¥ ë™ê¸°í™” (ë…ë¦½ ê´€ë¦¬ vs DB ì—°ë™) | ì„¤ê³„í† ì˜ | ë†’ìŒ | ëŒ€ê¸° |
| 5 | AI í•œì¤„ë¡œ ì…ë ¥ í¬ë§· ê°•ì œí™” + ìƒ˜í”Œ ê³ ê° ë¯¸ë¦¬ë³´ê¸° + ì´ëª¨ì§€ ì œê±° | ê¸°ëŠ¥ê°œì„  | ì¤‘ê°„ | âœ… ì™„ë£Œ |

#### ì•ˆê±´ #1: ëŒ€ì‹œë³´ë“œ íšŒì‚¬ëª… ë¯¸ë°˜ì˜ â€” âœ… ì™„ë£Œ

- **ì¦ìƒ:** ìŠˆí¼ê´€ë¦¬ìì—ì„œ íšŒì‚¬ëª… â†’ "í…ŒìŠ¤íŠ¸ê³„ì •" ìˆ˜ì • ì™„ë£Œí–ˆìœ¼ë‚˜, ëŒ€ì‹œë³´ë“œ ì¢Œì¸¡ ìƒë‹¨ì— "ë””ë²„ê¹…í…ŒìŠ¤íŠ¸" í‘œì‹œ
- **ì›ì¸:** ì´ì¤‘ ë¬¸ì œ â€” â‘  auth.tsê°€ `c.name`(êµ¬ ì»¬ëŸ¼) ì¡°íšŒ, ìŠˆí¼ê´€ë¦¬ìëŠ” `company_name` ìˆ˜ì • â†’ ì»¬ëŸ¼ ë¶ˆì¼ì¹˜ â‘¡ authStoreê°€ ë¡œê·¸ì¸ ì‹œì  localStorage ìºì‹œ ì‚¬ìš©
- **í•´ê²° (D43-1, 2026-02-27):**
  - auth.ts: ë¡œê·¸ì¸ ì¿¼ë¦¬ `c.name` â†’ `c.company_name` í†µì¼
  - companies.ts: GET /settingsì— `company_name` ì¶”ê°€, PUT /:idì—ì„œ `name`ë„ ë™ê¸° ìˆ˜ì •
  - Dashboard.tsx: `companyNameFromDB` state ì¶”ê°€ â†’ loadCompanySettingsì—ì„œ DB ì‹¤ì‹œê°„ ì¡°íšŒê°’ ìš°ì„  í‘œì‹œ
- **ìˆ˜ì • íŒŒì¼ 3ê°œ:** auth.ts, companies.ts, Dashboard.tsx

#### ì•ˆê±´ #2: AI ë§¤í•‘ ê²°ê³¼ í™”ë©´ ê°œí¸ â€” âœ… ì™„ë£Œ

- **ì¦ìƒ:** ë“œë¡­ë‹¤ìš´ 16ê°œ í•˜ë“œì½”ë”©(ë ˆê±°ì‹œ ì»¬ëŸ¼ í¬í•¨), í‘œì¤€ 17ê°œ ê¸°ì¤€ ë¶ˆëª…í™•, ì»¤ìŠ¤í…€ í•„ë“œ ë°°ì • ë¶ˆê°€, ê³µê°„ ë‚­ë¹„
- **í•´ê²° (D43-2, 2026-02-27):**
  - **ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬:** Dashboard.tsxì—ì„œ íŒŒì¼ ì—…ë¡œë“œ+ë§¤í•‘ ëª¨ë‹¬ 310ì¤„ ë¶„ë¦¬ â†’ FileUploadMappingModal.tsx ì‹ ê·œ (5,239ì¤„â†’4,948ì¤„)
  - **ë§¤í•‘ UI ê°œí¸:** í•˜ë“œì½”ë”© ë“œë¡­ë‹¤ìš´ â†’ FIELD_MAP ê¸°ë°˜ ë™ì  í‘œì¤€ 20ê°œ(í•„ìˆ˜17+íŒŒìƒ3), ì¹´í…Œê³ ë¦¬ë³„ ê·¸ë£¹, 2ì—´ ì»´íŒ©íŠ¸ ê·¸ë¦¬ë“œ, íƒœê·¸ í´ë¦­ ë°©ì‹(ë¯¸ë°°ì • ì»¬ëŸ¼ íŒì—…), ì¤‘ë³µ ë°°ì • ìë™ ë°©ì§€
  - **ì»¤ìŠ¤í…€ í•„ë“œ:** +/- ë°©ì‹ìœ¼ë¡œ ìŠ¬ë¡¯ ì¶”ê°€(ìµœëŒ€ 15ê°œ), ë¼ë²¨ëª… ì§ì ‘ ì…ë ¥, AI ë°°ì •ë¶„ ìë™ ì´ˆê¸° í‘œì‹œ
  - **ë°±ì—”ë“œ:** upload.ts `/mapping` ì‘ë‹µì— standardFields+categoryLabels ì¶”ê°€, `/save`ì— customLabels ì§€ì› â†’ customer_field_definitions ë¼ë²¨ ì €ì¥
  - **íŒì—… overflow ìˆ˜ì •:** absoluteâ†’fixed í¬ì§€ì…˜, í´ë¦­ ìœ„ì¹˜ ê¸°ë°˜ ì¢Œí‘œ ê³„ì‚°, í•˜ë‹¨ ê³µê°„ ë¶€ì¡± ì‹œ ìœ„ë¡œ ìë™ ì¡°ì •
- **ìˆ˜ì • íŒŒì¼ 3ê°œ:** upload.ts, Dashboard.tsx, FileUploadMappingModal.tsx(ì‹ ê·œ)

#### ì•ˆê±´ #3: ì§ì ‘ íƒ€ê²Ÿ ì„¤ì • ë™ì  í•„í„° â€” âœ… ì™„ë£Œ

- **ì‘ì—… ì™„ë£Œ (D43-3, 2026-02-27):**
  - **ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬:** Dashboard.tsxì—ì„œ ì§ì ‘íƒ€ê²Ÿ ëª¨ë‹¬ 265ì¤„ ë¶„ë¦¬ â†’ DirectTargetFilterModal.tsx ì‹ ê·œ (4,952ì¤„â†’4,547ì¤„)
  - **ëª¨ë‹¬ ì „ë©´ ë¦¬íŒ©í† ë§:**
    - SKIP_FIELDS ì œê±° â†’ **ì „ì²´ í•„ë“œ ë…¸ì¶œ** (Haroldë‹˜ í™•ì •: ì‚¬ìš©ìê°€ ì„ íƒí•˜ê²Œ)
    - 2ì—´ ì»´íŒ©íŠ¸ ê·¸ë¦¬ë“œ (ì²´í¬+ì¡°ê±´ ì¸ë¼ì¸)
    - ì—°ë ¹: ë‹¤ì¤‘ ì²´í¬(20ëŒ€+30ëŒ€) + ì§ì ‘ ë²”ìœ„ ì…ë ¥(25~35ì„¸) ì „í™˜
    - ë¬¸ìì—´ í•„ë“œ: ë‹¨ì¼ ë“œë¡­ë‹¤ìš´ â†’ **ë‹¤ì¤‘ íƒœê·¸ ì„ íƒ** (â˜‘VIP â˜‘GOLD â†’ OR ì¡°ê±´)
    - ê¸ˆì•¡/í¬ì¸íŠ¸/ë‚ ì§œ: ë“œë¡­ë‹¤ìš´ â†’ **í”„ë¦¬ì…‹ íƒœê·¸ í† ê¸€**
    - sms_opt_in: ë³„ë„ ì²´í¬ë°•ìŠ¤ â†’ ë§ˆì¼€íŒ… ì¹´í…Œê³ ë¦¬ í†µí•© (ê¸°ë³¸ ON)
  - **ë°±ì—”ë“œ ê°œì„  (customers.ts):**
    - enabled-fields ì˜µì…˜: 4ê°œ í•˜ë“œì½”ë”© â†’ **ëª¨ë“  string í•„ë“œ DISTINCT ë™ì  ì¡°íšŒ** (ì»¤ìŠ¤í…€ í¬í•¨)
    - buildDynamicFilter: `name`, `email`, `address` ë“± ì§ì ‘ ì»¬ëŸ¼ â†’ contains ê²€ìƒ‰ ì§€ì›
    - numericFields: `recent_purchase_amount` ì¶”ê°€
    - extract SELECT: 6ê°œ â†’ í‘œì¤€ í•„ë“œ ì „ì²´ ë°˜í™˜
  - **Dashboard.tsx ì—°ê²°:**
    - ê¸°ì¡´ ì§ì ‘íƒ€ê²Ÿ state 10ê°œ + í•¨ìˆ˜ 5ê°œ ì œê±°
    - `handleTargetExtracted` ì½œë°±ìœ¼ë¡œ ê¸°ì¡´ ë°œì†¡ íë¦„ ì—°ê²°
- **ìˆ˜ì • íŒŒì¼ 3ê°œ:** DirectTargetFilterModal.tsx(ì‹ ê·œ), Dashboard.tsx, customers.ts

- **ğŸš¨ ë²„ê·¸: íƒ€ê²Ÿ ì¶”ì¶œ í›„ ë°œì†¡ ëª¨ë‹¬ ë¯¸í‘œì‹œ â€” âœ… ìˆ˜ì • ì™„ë£Œ (D43-3b, 2026-02-27)**
  - **ì¦ìƒ:** ëŒ€ìƒ ì¸ì› 10,000ëª… ì¡°íšŒ ì„±ê³µ â†’ "íƒ€ê²Ÿ ì¶”ì¶œ" í´ë¦­ â†’ ì•„ë¬´ ë°˜ì‘ ì—†ìŒ (ë°œì†¡ ëª¨ë‹¬ ì•ˆ ëœ¸)
  - **í™•ì • ì›ì¸ 3ê°€ì§€:**
    1. **extract SELECT í•˜ë“œì½”ë”© + customers_unified ë·° ë¶ˆì¼ì¹˜** â€” SELECT ì»¬ëŸ¼ 17ê°œ í•˜ë“œì½”ë”©ìœ¼ë¡œ ë‚˜ì—´ + `FROM customers_unified` ì‚¬ìš© â†’ DDL ì´í›„ ë·° ë¯¸ê°±ì‹ ìœ¼ë¡œ `store_phone`, `registration_type` ë“± ì»¬ëŸ¼ ì°¸ì¡° ì‹œ SQL ì—ëŸ¬ â†’ 500 ë°˜í™˜ â†’ `data.success` undefined â†’ `onExtracted` ë¯¸í˜¸ì¶œ
    2. **age í•„í„° birth_date ì—­ì‚°** â€” `buildDynamicFilter`ì—ì„œ age ì¡°ê±´ì„ `EXTRACT(YEAR FROM AGE(birth_date))`ë¡œ ì²˜ë¦¬ â†’ `birth_date` NULLì¸ ê³ ê° ì „ë¶€ íƒˆë½ â†’ ì—°ë ¹ëŒ€ í•„í„° ì‹œ 0ëª…
    3. **ì—ëŸ¬ í•¸ë“¤ë§ ë¶€ì¬** â€” extract API 500 ì—ëŸ¬ ì‹œ DirectTargetFilterModalì—ì„œ `!res.ok` ì²´í¬ ì—†ì´ `res.json()` ì‹œë„ â†’ íŒŒì‹± ì‹¤íŒ¨í•˜ê±°ë‚˜ success ì—†ì–´ì„œ ì¡°ìš©íˆ ì‹¤íŒ¨
  - **ìˆ˜ì • ë‚´ìš© (customers.ts + DirectTargetFilterModal.tsx):**
    - **extract SELECT ë™ì í™”:** í•˜ë“œì½”ë”© 17ê°œ ì»¬ëŸ¼ â†’ `getColumnFields()` (FIELD_MAP ê¸°ë°˜) + region/custom_fields/callback ì¶”ê°€. í•„ë“œ ë³€ê²½ ì‹œ FIELD_MAPë§Œ ìˆ˜ì •í•˜ë©´ ìë™ ë°˜ì˜
    - **customers_unified â†’ customers í…Œì´ë¸” ì§ì ‘ ì¡°íšŒ:** extract + filter-count ëª¨ë‘ ë·° ì˜ì¡´ ì œê±°
    - **age í•„í„° ìˆ˜ì •:** `EXTRACT(YEAR FROM AGE(birth_date))` â†’ `age` ì»¬ëŸ¼ ì§ì ‘ ì‚¬ìš© (birth_date NULLì¸ ê³ ê°ë„ í•„í„° ê°€ëŠ¥)
    - **ì—ëŸ¬ í•¸ë“¤ë§ ì¶”ê°€:** `!res.ok` ì²´í¬ + `!data.success` ì²´í¬ + catch ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ â†’ ëª¨ë‘ ì»¤ìŠ¤í…€ ì•Œë¦¼ ëª¨ë‹¬ í‘œì‹œ (animate-in zoom-in-95, error/warning/info ì•„ì´ì½˜ ë¶„ê¸°)
    - **loadTargetCountì—ë„ ë™ì¼ ì—ëŸ¬ í•¸ë“¤ë§ ì ìš©**
  - **ìˆ˜ì • íŒŒì¼ 2ê°œ:** customers.ts, DirectTargetFilterModal.tsx
  - **ê¸°ê°„ê³„ ë¯¸ì ‘ì´‰:** campaigns.ts, spam-filter.ts, messageUtils.ts, results.ts, billing.ts, Dashboard.tsx ì „ë¶€ ë¯¸ìˆ˜ì •

- **ë°œì†¡ì°½ í•˜ë“œì½”ë”© ì „ë©´ ì œê±° + ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ â€” âœ… ì™„ë£Œ (D43-3c, 2026-02-27)**
  - **TargetSendModal.tsx ì‹ ê·œ (901ì¤„):** Dashboard.tsxì—ì„œ ì§ì ‘íƒ€ê²Ÿë°œì†¡ ëª¨ë‹¬ 703ì¤„ ë¶„ë¦¬
  - **í•˜ë“œì½”ë”© 8ê³³ ë™ì í™” (fieldsMeta ê¸°ë°˜):**
    1. SMS ìë™ì…ë ¥ ë³€ìˆ˜ (5ê°œ ê³ ì • â†’ fieldsMeta ë™ì )
    2. ì¹´ì¹´ì˜¤ ìë™ì…ë ¥ ë³€ìˆ˜ (4ê°œ ê³ ì • â†’ fieldsMeta ë™ì )
    3. ìˆ˜ì‹ ì í…Œì´ë¸” í—¤ë”/ë°ì´í„° (5ì»¬ëŸ¼ ê³ ì • â†’ fieldsMeta ë™ì )
    4. handleTargetExtracted ë§¤í•‘ (5ê°œ í•˜ë“œì½”ë”© â†’ ì›ë³¸ ì €ì¥)
    5. executeTargetSend ì¹˜í™˜ (5ê°œ replace â†’ fieldsMeta.forEach ë™ì )
    6. ìŠ¤íŒ¸í•„í„° replaceVars (8ê°œ í•˜ë“œì½”ë”© â†’ fieldsMeta.forEach ë™ì )
    7. targetVarMap ë°”ì´íŠ¸ ì²´í¬ (5ê°œ ê³ ì • â†’ fieldsMeta ë™ì )
    8. DirectPreviewModal ë¯¸ë¦¬ë³´ê¸° ì¹˜í™˜ (í•˜ë“œì½”ë”© â†’ replaceVarsWithMeta ë™ì )
  - **ì»¤ì„œ ìœ„ì¹˜ ì‚½ì… ë²„ê·¸ ìˆ˜ì •:** `setTargetMessage(prev => prev + value)` â†’ `textarea.selectionStart` ê¸°ë°˜ ì •í™•í•œ ìœ„ì¹˜ ì‚½ì…
  - **ë°ì´í„° íë¦„:** DirectTargetFilterModal â†’ onExtracted(recipients, count, **fieldsMeta**) â†’ Dashboard â†’ TargetSendModal/DirectPreviewModal
  - **FieldMeta ì¸í„°í˜ì´ìŠ¤:** `{ field_key, display_name, variable, data_type, category }` â€” DirectTargetFilterModalì—ì„œ export
  - **Dashboard.tsx:** 4,548ì¤„ â†’ 3,910ì¤„ (638ì¤„ ê°ì†Œ)
  - **ìˆ˜ì • íŒŒì¼ 4ê°œ:** TargetSendModal.tsx(ì‹ ê·œ), DirectTargetFilterModal.tsx, Dashboard.tsx, DirectPreviewModal.tsx
  - **ê¸°ê°„ê³„ ë¯¸ì ‘ì´‰:** campaigns.ts, spam-filter.ts, messageUtils.ts, results.ts, billing.ts ì „ë¶€ ë¯¸ìˆ˜ì •

- **ğŸ“‹ ë‹¤ìŒ: ì§ì ‘íƒ€ê²Ÿë°œì†¡ ë°œì†¡ì°½ ë‚´ë¶€ ìˆ˜ì •ì‚¬í•­ (D43-3c)**
  - Haroldë‹˜ í™•ì¸ í›„ êµ¬ì²´ì  ìˆ˜ì • ë‚´ìš© ì •ë¦¬ ì˜ˆì •
  - ë°œì†¡ ëª¨ë‹¬ í‘œì‹œê¹Œì§€ëŠ” ì •ìƒ ë™ì‘ í™•ì¸ í›„ ì§„í–‰

#### ì•ˆê±´ #4: ìˆ˜ì‹ ê±°ë¶€ ì–‘ë°©í–¥ ë™ê¸°í™” (ì„¤ê³„ í† ì˜ í•„ìš”)

- **ì‹œë‚˜ë¦¬ì˜¤ A (DB ë¯¸ì €ì¥ ì—…ì²´):** ìˆ˜ì‹ ê±°ë¶€ìë¥¼ ë…ë¦½ ë“±ë¡/ê´€ë¦¬, ì§ì ‘ë°œì†¡ ì‹œ ìë™ ì œì™¸
- **ì‹œë‚˜ë¦¬ì˜¤ B (DB ì—…ë¡œë“œ ì—…ì²´):**
  - ì—…ë¡œë“œ ì‹œ sms_opt_in=false â†’ opt_outsì— ìë™ ë“±ë¡
  - opt_outsì—ì„œ ì œê±° â†’ customers.sms_opt_in=true ì–‘ë°©í–¥ ë™ê¸°í™”
- **í•µì‹¬ ê³¼ì œ:** ë‘ ì‹œë‚˜ë¦¬ì˜¤ê°€ ê³µì¡´í•´ì•¼ í•¨. ê³ ê° DB ì‚­ì œ ì‹œ ìˆ˜ì‹ ê±°ë¶€ ë°ì´í„° ì²˜ë¦¬ ê¸°ì¤€ í•„ìš”
- **ê´€ë ¨ í…Œì´ë¸”:** opt_outs, customers.sms_opt_in, unsubscribes

#### ì•ˆê±´ #5: AI í•œì¤„ë¡œ ì…ë ¥ í¬ë§· ê°•ì œí™” + ìƒ˜í”Œ ê³ ê° ë¯¸ë¦¬ë³´ê¸° + ì´ëª¨ì§€ ì œê±° â€” âœ… ì™„ë£Œ

- **ë¬¸ì œ 3ê°€ì§€:**
  1. AI í•œì¤„ë¡œ(ì¼ë°˜)ê°€ ê³ ê°ì‚¬ DB ì „ì²´ í•„ë“œë¥¼ í†µìœ¼ë¡œ ë°”ë¼ë´„ â†’ ì˜¤ë¥˜ í™•ë¥  ë†’ìŒ
  2. AI ê²°ê³¼ ë©”ì‹œì§€ì— `%ê³ ê°ëª…%` ë“± ë³€ìˆ˜ê°€ ê·¸ëŒ€ë¡œ í‘œì‹œë¨ â†’ ì‹¤ì œ ëª¨ìŠµ í™•ì¸ ë¶ˆê°€
  3. AIê°€ í”„ë¡¬í”„íŠ¸ ë¬´ì‹œí•˜ê³  ì´ëª¨ì§€(ğŸ”¥ğŸ“…â°ğŸ‰) ì‚½ì… â†’ SMS/LMSì—ì„œ ê¹¨ì§
- **í•´ê²° (D43-5, 2026-02-27):**
  - **ê°œì¸í™” í•„ìˆ˜ íŒŒì‹± (services/ai.ts):** `parsePersonalizationDirective()` ì‹ ê·œ â€” "ê°œì¸í™” í•„ìˆ˜:" í‚¤ì›Œë“œ ê°ì§€ â†’ ì§€ì • ë³€ìˆ˜ë§Œ AIì— ì „ë‹¬, ì—†ìœ¼ë©´ ê¸°ì¡´ ë¡œì§ ìœ ì§€ (í•˜ìœ„í˜¸í™˜ 100%)
  - **ìƒ˜í”Œ ê³ ê° ë¯¸ë¦¬ë³´ê¸° (routes/ai.ts â†’ Dashboard.tsx â†’ AiCampaignResultPopup.tsx):** `/recommend-target` ì‘ë‹µì— `sample_customer` ì¶”ê°€ (í•„í„° ë§ëŠ” ì‹¤ì œ ê³ ê° 1ëª…, FIELD_MAP displayName í‚¤ ê¸°ë°˜) â†’ AI ê²°ê³¼ ë©”ì‹œì§€ ë¯¸ë¦¬ë³´ê¸°ì—ì„œ `%ë³€ìˆ˜%` â†’ ì‹¤ì œ ë°ì´í„° ì¹˜í™˜ í‘œì‹œ + ìŠ¤íŒ¸í•„í„° ì ê²€ì—ë„ ì¹˜í™˜ ì ìš©
  - **ì´ëª¨ì§€ ê°•ì œ ì œê±° (services/ai.ts):** `stripEmojis()` í›„ì²˜ë¦¬ ì•ˆì „ì¥ì¹˜ â€” SMS/LMS/MMS ë°œì†¡ ì‹œ ìœ ë‹ˆì½”ë“œ ì´ëª¨ì§€ ìë™ ì œê±°, KS X 1001 íŠ¹ìˆ˜ë¬¸ì(â˜…â˜†â—â—‹â–¶â—€â– â–¡â–³â–²ã€ã€‘ã€Œã€ ë“±) ìœ ì§€. ì¹´ì¹´ì˜¤ ì±„ë„ì€ ì´ëª¨ì§€ í—ˆìš©ìœ¼ë¡œ ë¯¸ì ìš©
  - **í•˜ë“œì½”ë”© ì œê±°:** AiCampaignResultPopup.tsxì˜ í•˜ë“œì½”ë”© sampleData 9ê°œ + replaceVars 8ê°œ ì œê±° â†’ ë™ì  sampleCustomer ê¸°ë°˜ìœ¼ë¡œ ì „í™˜
- **ìˆ˜ì • íŒŒì¼ 4ê°œ:** services/ai.ts, routes/ai.ts, Dashboard.tsx, AiCampaignResultPopup.tsx
- **UI íŒíŠ¸ ì¶”ê°€:** AiSendTypeModal.tsx placeholder + ê°œì¸í™” ì•ˆë‚´ íŒíŠ¸

#### ì§„í–‰ ìˆœì„œ (Haroldë‹˜ í™•ì •)

1. ~~**#1** ëŒ€ì‹œë³´ë“œ íšŒì‚¬ëª… (ë¹ ë¥¸ í•´ê²°)~~ âœ… ì™„ë£Œ
2. ~~**#2** AI ë§¤í•‘ í™”ë©´ ê°œí¸ (ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ + íƒœê·¸ í´ë¦­ UI)~~ âœ… ì™„ë£Œ
3. ~~**#5** AI í•œì¤„ë¡œ í¬ë§· ê°•ì œí™” + ë¯¸ë¦¬ë³´ê¸° + ì´ëª¨ì§€ ì œê±°~~ âœ… ì™„ë£Œ
4. **#3** ì§ì ‘ íƒ€ê²Ÿ ì„¤ì • â€” ë°±ì—”ë“œ ë²„ê·¸ ìˆ˜ì • ì™„ë£Œ, **ì§ì ‘íƒ€ê²Ÿë°œì†¡ ë°œì†¡ì°½ ë‚´ë¶€ ìˆ˜ì •ì‚¬í•­ í•´ê²°** â† ë‹¤ìŒ ì„¸ì…˜ ìµœìš°ì„ 
5. **#4** ìˆ˜ì‹ ê±°ë¶€ ë™ê¸°í™” (ì„¤ê³„ ê¹Šì´ ë…¼ì˜ í›„ êµ¬í˜„)

â†’ ê° ì•ˆê±´ì„ ë³„ë„ ì±„íŒ… ì„¸ì…˜ì—ì„œ ì„¤ê³„â†’ì»¨íŒâ†’êµ¬í˜„â†’í…ŒìŠ¤íŠ¸â†’ì •ë¦½ í›„ ë‹¤ìŒìœ¼ë¡œ ì§„í–‰

#### â›” ì§„í–‰ ê·œì¹™
- ê¸°ì¡´ ë°œì†¡ íŒŒì´í”„ë¼ì¸ ì ˆëŒ€ ê±´ë“œë¦¬ì§€ ì•ŠìŒ
- ì½”ë“œ ì‘ì„± ì „ Haroldë‹˜ ì»¨íŒ í•„ìˆ˜
- SCHEMA.mdì— ì—†ëŠ” ì»¬ëŸ¼ ì„ì˜ ìƒì„± ê¸ˆì§€
- standard-field-map.tsê°€ ìœ ì¼í•œ ë§¤í•‘ ê¸°ì¤€
- ì˜ë…¼ â†’ ê²€ì¦ â†’ ì‹¤í–‰ ìˆœì„œ ì—„ìˆ˜

---

### âœ… ì´ì „ ì™„ë£Œ ìš”ì•½

| í•­ëª© | ìƒíƒœ |
|------|------|
| D39 í‘œì¤€ í•„ë“œ ì•„í‚¤í…ì²˜ (ì„¸ì…˜0~2 ì „ì²´) | âœ… ì½”ë“œ ìˆ˜ì • ì™„ë£Œ Â· ì‹¤ë™ì‘ ê²€ì¦ ëŒ€ê¸° |
| D40 AI ë§ì¶¤í•œì¤„ ë™ì  í•„ë“œ + UX | âœ… ì™„ë£Œ |
| D41 ëŒ€ì‹œë³´ë“œ ë™ì  ì¹´ë“œ ì‹œìŠ¤í…œ (ì„¸ì…˜1~2) | âœ… ì™„ë£Œ |
| D42 ë°œì†¡í˜„í™© í•˜ë“œì½”ë”© ì œê±° | âœ… ì™„ë£Œ |
| D43 ì•ˆê±´#1 íšŒì‚¬ëª… | âœ… ì™„ë£Œ |
| D43 ì•ˆê±´#2 ë§¤í•‘ UI ê°œí¸ | âœ… ì™„ë£Œ |
| D43 ì•ˆê±´#3 ì§ì ‘íƒ€ê²Ÿ ë¦¬íŒ©í† ë§ | ğŸ”§ ë°±ì—”ë“œ ë²„ê·¸ ìˆ˜ì • ì™„ë£Œ Â· ë°œì†¡ì°½ ë‚´ë¶€ ìˆ˜ì • í•„ìš” |
| D43 ì•ˆê±´#5 AI í¬ë§·+ë¯¸ë¦¬ë³´ê¸°+ì´ëª¨ì§€ | âœ… ì™„ë£Œ |
| AI ë§ì¶¤í•œì¤„ Phase 1 (AI-CUSTOM-SEND.md) | âœ… 8ë‹¨ê³„ ì „ì²´ ì™„ë£Œ |
| ì„ ë¶ˆ ìš”ê¸ˆì œ Phase 1-A | âœ… ì™„ë£Œ |
| 8ì°¨ ë²„ê·¸ 13ê±´ ìˆ˜ì • | âœ… ì½”ë“œ ìˆ˜ì • ì™„ë£Œ Â· ì‹¤ë™ì‘ ê²€ì¦ ëŒ€ê¸° |
| AI ë¶„ì„ ëª¨ë‹¬ ì „ì²´ | âœ… ì™„ë£Œ |
| ìŠ¤íŒ¸í•„í„° ì „ì²´ (Android ì•± í¬í•¨) | âœ… ì™„ë£Œ |

---

## 5) âš ï¸ ë°œì†¡ íŒŒì´í”„ë¼ì¸ ì ˆëŒ€ ë³´í˜¸ ì˜ì—­

> **ì•„ë˜ íŒŒì¼ë“¤ì€ ì ˆëŒ€ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤.** ë°œì†¡Â·ì •ì‚°Â·ê²°ê³¼ì¡°íšŒì˜ í•µì‹¬ì´ë©°, 2026-02-26 D32~D33ì—ì„œ ê³µí†µ ì¹˜í™˜ í•¨ìˆ˜ í†µí•© + 5ê°œ ê²½ë¡œ ì „ìˆ˜ ì ê²€ ì™„ë£Œ.

| íŒŒì¼ | ì—­í•  |
|------|------|
| campaigns.ts | AI ìº í˜ì¸ ë°œì†¡ (ì˜ˆì•½+ì¦‰ì‹œ) + ì„ ë¶ˆ ì°¨ê°/í™˜ë¶ˆ |
| spam-filter.ts | ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ (Android ì•± ì—°ë™) |
| messageUtils.ts | ê³µí†µ ë³€ìˆ˜ ì¹˜í™˜ (`replaceVariables`) |
| results.ts | ë°œì†¡ ê²°ê³¼ ì¡°íšŒ + MySQL LIVE/LOG í†µí•© |
| billing.ts | ì •ì‚°Â·ê±°ë˜ë‚´ì—­ì„œ PDF |
| direct-send (campaigns.ts ë‚´) | ì§ì ‘ íƒ€ê²Ÿ ë°œì†¡ |

---

## 6) ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 6-1. 3-Tier ë„ë©”ì¸ êµ¬ì¡°
| ë„ë©”ì¸ | ì—­í•  | ì‚¬ìš©ì |
|--------|------|--------|
| hanjul.ai | ì„œë¹„ìŠ¤ ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ | ë§ˆì¼€í„°/ì§ì› |
| app.hanjul.ai | íšŒì‚¬ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ | ê³ ê°ì‚¬ ê´€ë¦¬ì |
| sys.hanjullo.com | ìŠˆí¼ê´€ë¦¬ì ì‹œìŠ¤í…œ | INVITO ë‚´ë¶€ |

### 6-2. í•µì‹¬ ì¸í”„ë¼
- **ë°œì†¡ ì—”ì§„:** QTmsg Agent 11ê°œ (SKT 6 / KT 4 / LGU+ 1) â†’ MySQL í ê´€ë¦¬
- **DB:** PostgreSQL (ë©”íƒ€ë°ì´í„°) + MySQL (SMS í)
- **ë°°í¬:** Docker + PM2 + Nginx
- **AI:** Claude API (primary) + GPT API (fallback)

---

## 7) ğŸ’¡ í•µì‹¬ ì•„í‚¤í…ì²˜ ì°¸ì¡°

### 7-1. ë°ì´í„° ì •ê·œí™” (utils/normalize.ts + utils/standard-field-map.ts)

ê³ ê°ì‚¬ë³„ DB í˜•ì‹ ì°¨ì´ë¥¼ í¡ìˆ˜í•˜ëŠ” í•µì‹¬ ë ˆì´ì–´.

**ì•„í‚¤í…ì²˜ (D39 í™•ì • â€” í•„ìˆ˜17 + ì»¤ìŠ¤í…€15):**
1. **standard-field-map.ts** â€” ìœ ì¼í•œ ë§¤í•‘ ì •ì˜ (field_key â†” customers ì»¬ëŸ¼/custom_fields ìœ„ì¹˜ â†” ì¹´í…Œê³ ë¦¬ â†” normalize í•¨ìˆ˜)
2. **normalize.ts** â€” ê°’ ë³€í™˜ í•¨ìˆ˜ (ë‹¤ì–‘í•œ ì…ë ¥ â†’ í‘œì¤€ê°’)
3. **customer_field_definitions** â€” ê³ ê°ì‚¬ë³„ ì»¤ìŠ¤í…€ í•„ë“œ ë¼ë²¨ ì •ì˜

**í•„ìˆ˜ ì§ì ‘ ì»¬ëŸ¼ 17ê°œ:** name, phone, gender, age, birth_date, email, address, recent_purchase_store, store_code, registration_type, registered_store, store_phone(DDLì‹ ê·œ), recent_purchase_amount, total_purchase_amount, grade, points, sms_opt_in
**ì»¤ìŠ¤í…€ ìŠ¬ë¡¯ 15ê°œ:** custom_1 ~ custom_15 (custom_fields JSONB)

**ì ˆëŒ€ ì›ì¹™:** SCHEMA.mdì— ì •ì˜ëœ ì»¬ëŸ¼ëª…/íƒ€ì…ë§Œ ì‚¬ìš©. í•˜ë“œì½”ë”© ë§¤í•‘ ê¸ˆì§€. FIELD-INTEGRATION.mdê°€ ê¸°ì¤€ ë¬¸ì„œ.

ì°¸ì¡° íŒŒì¼: ai.ts, customers.ts, campaigns.ts, upload.ts, sync.ts

**ì—­í•  3ê°€ì§€:**
1. **ê°’ ì •ê·œí™”** â€” ì–´ë–¤ í˜•íƒœë¡œ ë“¤ì–´ì˜¤ë“  í‘œì¤€ê°’ìœ¼ë¡œ í†µì¼
   - ì„±ë³„: ë‚¨/ë‚¨ì/male/man/1 â†’ 'M' | ë“±ê¸‰: vip/VIPê³ ê°/V â†’ 'VIP'
   - ì „í™”ë²ˆí˜¸: +82-10-1234-5678 â†’ '01012345678'
   - ê¸ˆì•¡: â‚©1,000ì› â†’ 1000 | ë‚ ì§œ: 20240101, 2024.01.01 â†’ '2024-01-01'
2. **í•„ë“œëª… ë§¤í•‘** â€” `normalizeCustomerRecord()`ì—ì„œ ë‹¤ì–‘í•œ ì»¬ëŸ¼ëª…ì„ í‘œì¤€ í•„ë“œë¡œ í†µì¼
   - raw.mobile / raw.phone_number / raw.tel â†’ phone
   - raw.sex / raw.ì„±ë³„ â†’ gender | raw.ë“±ê¸‰ / raw.membership â†’ grade
3. **AI ë™ì  êµ¬ì„±** â€” ê³ ê°ì‚¬ê°€ ì˜¬ë¦° ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ë³€ìˆ˜ ëª©ë¡ ìƒì„± â†’ AI í”„ë¡¬í”„íŠ¸ì— ì£¼ì…

> **ì£¼ì˜:** opt_in_sms(field_key) â†” sms_opt_in(customers ì»¬ëŸ¼) ë“± ì´ë¦„ ë¶ˆì¼ì¹˜ëŠ” standard-field-map.tsì—ì„œ ì²˜ë¦¬. ì»¬ëŸ¼ëª… ë³€ê²½ ê¸ˆì§€.

### 7-2. ì„ ë¶ˆ/í›„ë¶ˆ ìš”ê¸ˆì œ ì‹œìŠ¤í…œ

**ê°œìš”:**
- **í›„ë¶ˆ(postpaid)**: ê¸°ë³¸ê°’. ì œí•œ ì—†ì´ ë°œì†¡, ì›”ë§ ì •ì‚° (ê¸°ì¡´ ë°©ì‹)
- **ì„ ë¶ˆ(prepaid)**: ì”ì•¡ ì¶©ì „ í›„ ì‚¬ìš©, ë°œì†¡ ì‹œ atomic ì°¨ê°, ì‹¤íŒ¨ ì‹œ í™˜ë¶ˆ

**ë‹¨ê°€ ì²´ê³„:**
- companies.cost_per_sms/lms/mms/kakao â†’ **VAT í¬í•¨ ê¸ˆì•¡** ì €ì¥
- í”„ë¡ íŠ¸ì—”ë“œ: ë‹¨ê°€ Ã— ê±´ìˆ˜ë¡œ í‘œì‹œ
- PDF ê±°ë˜ë‚´ì—­ì„œë§Œ: ì´ì•¡ Ã· 1.1ë¡œ ê³µê¸‰ê°€ì•¡/ë¶€ê°€ì„¸ ë¶„ë¦¬

**ë°œì†¡ ì‹œ ì°¨ê° íë¦„ (campaigns.ts):**
1. `prepaidDeduct()` â†’ billing_type í™•ì¸ â†’ postpaidë©´ ì¦‰ì‹œ pass
2. í•„ìš”ê¸ˆì•¡ = ê±´ìˆ˜ Ã— VATí¬í•¨ë‹¨ê°€
3. Atomic ì°¨ê°: `UPDATE companies SET balance = balance - $1 WHERE balance >= $1`
4. ì„±ê³µ â†’ balance_transactions ê¸°ë¡ / ì‹¤íŒ¨ â†’ 402 ì‘ë‹µ (insufficientBalance)
5. ë°œì†¡ ê²°ê³¼ sync ì‹œ ì‹¤íŒ¨ ê±´ìˆ˜ â†’ `prepaidRefund()` í™˜ë¶ˆ (ì¤‘ë³µ ë°©ì§€ ë‚´ì¥)

**í†µí•© í¬ì¸íŠ¸ (8ê³³):**
- POST /test-send: í…ŒìŠ¤íŠ¸ ë°œì†¡ ì „ ì”ì•¡ ì²´í¬
- POST /:id/send: AI ìº í˜ì¸ ë°œì†¡ ì „ ì°¨ê°
- POST /direct-send: ì§ì ‘ë°œì†¡ ì „ ì°¨ê°
- POST /sync-results: ê²°ê³¼ ë™ê¸°í™” ì‹œ ì‹¤íŒ¨ë¶„ í™˜ë¶ˆ (campaign_runs/direct ëª¨ë‘)
- POST /:id/cancel: ì˜ˆì•½ ì·¨ì†Œ ì‹œ ëŒ€ê¸° ê±´ìˆ˜ ì „ì•¡ í™˜ë¶ˆ
- GET /: ëª©ë¡ ì¡°íšŒ ì‹œ ì™„ë£Œ ìº í˜ì¸ ìë™ í™˜ë¶ˆ ì²´í¬

**ìŠˆí¼ê´€ë¦¬ì API:**
- PATCH /api/admin/companies/:id/billing-type â†’ í›„ë¶ˆâ†”ì„ ë¶ˆ ì „í™˜
- POST /api/admin/companies/:id/balance-adjust â†’ ìˆ˜ë™ ì¶©ì „/ì°¨ê° (ì‚¬ìœ  í•„ìˆ˜)
- GET /api/admin/companies/:id/balance-transactions â†’ íšŒì‚¬ë³„ ì´ë ¥
- GET /api/admin/balance-overview â†’ ì „ì²´ ì„ ë¶ˆ ê³ ê°ì‚¬ ì”ì•¡ í˜„í™©

**ì„œë¹„ìŠ¤ ì‚¬ìš©ì API:**
- GET /api/balance â†’ ì”ì•¡ + billing_type + ë‹¨ê°€ ì¡°íšŒ
- GET /api/balance/transactions â†’ ë³€ë™ ì´ë ¥ (í˜ì´ì§€ë„¤ì´ì…˜, íƒ€ì…/ë‚ ì§œ í•„í„°)
- GET /api/balance/summary â†’ ì›”ë³„ ì¶©ì „/ì°¨ê°/í™˜ë¶ˆ ìš”ì•½

---

## 8) ğŸ“² ì§„í–‰ ì˜ˆì • ì‘ì—… (TODO)

### ğŸŸ¡ ì”ì—¬ â€” ì§ì› ë²„ê·¸ë¦¬í¬íŠ¸ ì‹¤ë™ì‘ ê²€ì¦ (ì½”ë“œ ìˆ˜ì • ì „ì²´ ì™„ë£Œ)
- [ ] **8ì°¨ B8-01~B8-13: ì§ì› ì‹¤ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸** (app.hanjul.ai)
- [ ] **9ì°¨ S9-04/S9-08: ë°œì†¡ê²°ê³¼ ì¡°íšŒ ì„±ëŠ¥ + sent_at ì •í™•ì„± í™•ì¸**
- [ ] **D39 ì„¸ì…˜2 ì‹¤ë™ì‘ ê²€ì¦: í•„í„° UI + AI ë³´ìœ í•„ë“œ í™•ì¸**

### âœ… ì™„ë£Œ â€” í‘œì¤€ í•„ë“œ ì•„í‚¤í…ì²˜ í†µí•© (D39)
- [x] ì„¸ì…˜ 0: DDL + standard-field-map.ts ì¬ì •ì˜ (í•„ìˆ˜17+ì»¤ìŠ¤í…€15)
- [x] ì„¸ì…˜ 1: upload.ts + normalize.ts ì…êµ¬ ì •ìƒí™”
- [x] ì„¸ì…˜ 2: customers.ts + Dashboard.tsx + ai.ts + AiCustomSendFlow.tsx ì¡°íšŒ+AI ì •ìƒí™”

### ëŒ€ì‹œë³´ë“œ ë¦¬íŒ©í† ë§ Phase 3 (ì¶”í›„)
- [x] ì§ì ‘ íƒ€ê²Ÿ ì„¤ì • ëª¨ë‹¬ ë¶„ë¦¬ â€” âœ… D43-3a DirectTargetFilterModal.tsx (729ì¤„)
- [x] ì§ì ‘ íƒ€ê²Ÿ ë°œì†¡ ëª¨ë‹¬ ë¶„ë¦¬ â€” âœ… D43-3c TargetSendModal.tsx (901ì¤„)
- Dashboard.tsx ëˆ„ì  ê°ì†Œ: 8,039ì¤„ â†’ 3,910ì¤„ (ì´ 4,129ì¤„ ê°ì†Œ)

### AI ë§ì¶¤í•œì¤„ Phase 2 (ë°œì†¡ ì—°ê²°)
- [ ] ë°œì†¡ í™•ì • â†’ íƒ€ê²Ÿ ì„ íƒ ë°©ì‹ ê²°ì • (ì˜µì…˜ A/B/C ì¤‘ ì„ íƒ)
- [ ] AiCampaignSendModal ì—°ê²°
- [ ] ì „ì²´ í†µí•© í…ŒìŠ¤íŠ¸ (ì‹¤ì œ ë°œì†¡)

### ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ í…œí”Œë¦¿ ê´€ë¦¬ (Humuson API v2.1.1)
- [ ] ê³ ê°ì‚¬ ê´€ë¦¬ì(app.hanjul.ai) í…œí”Œë¦¿ CRUD + ê²€ìˆ˜ í”„ë¡œì„¸ìŠ¤ + ë°œì‹ í”„ë¡œí•„ ì¡°íšŒ + ê´€ë¦¬ UI
- [ ] ìŠˆí¼ê´€ë¦¬ì(sys.hanjullo.com) ê³ ê°ì‚¬ë³„ Humuson ì—°ë™ ì„¤ì • (humuson_user_id, uuid)
- [ ] ì„œë¹„ìŠ¤ ì‚¬ìš©ì(hanjul.ai) ìº í˜ì¸ ë°œì†¡ ì‹œ APR ìƒíƒœ í…œí”Œë¦¿ë§Œ ì„ íƒ
- [ ] ê¸°ìˆ : ë°±ì—”ë“œ í”„ë¡ì‹œ /api/kakao-templates/*, DB kakao_templates í™•ì¥, ìƒíƒœ ì „ì´ ê·œì¹™
- [ ] Phase 2: ì´ë¯¸ì§€ ì—…ë¡œë“œ, ì•Œë¦¼ ìˆ˜ì‹ ì ê´€ë¦¬, ë°œì‹ í”„ë¡œí•„ ê·¸ë£¹

### 080 ìˆ˜ì‹ ê±°ë¶€ (â¸ï¸ ë‚˜ë˜ì¸í„°ë„· ì‘ë‹µ ëŒ€ê¸°)
- [x] ì½œë°± ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ (í† í° ì¸ì¦, ê³ ê°ì‚¬ë³„ 080ë²ˆí˜¸ ìë™ ë§¤ì¹­)
- [x] ì„œë²„ .env OPT_OUT_080_TOKEN ì„¤ì • + PM2 ì¬ì‹œì‘
- [x] Nginx 080callback ê²½ë¡œ ë‚˜ë˜ IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì ìš©
- [ ] ë‚˜ë˜ ì‘ë‹µ í›„: ì‹¤ì œ 080 ARS ìˆ˜ì‹ ê±°ë¶€ í…ŒìŠ¤íŠ¸ (080-719-6700)
- [ ] ê¸°ì¡´ ëˆ„ì  ìˆ˜ì‹ ê±°ë¶€ ëª©ë¡ ì´ˆê¸° ë™ê¸°í™” (ë²Œí¬ API ë˜ëŠ” ì—‘ì…€)

### ì„ ë¶ˆ ìš”ê¸ˆì œ Phase 1-B~2
- [ ] Phase 1-B: KCP PG ì—°ë™ (ì¹´ë“œê²°ì œë§Œ, ê°€ìƒê³„ì¢Œ ì œì™¸)
- [ ] Phase 2: ì…ê¸ˆê°ì§€ API ìë™í™”

### Sync Agent
- [x] Sync Agent ì½”ì–´ ì™„ì„± (ë¹„í†  v1.3.0 ê°œë°œ ì™„ë£Œ)
- [ ] sync_releasesì— v1.3.0 ë¦´ë¦¬ìŠ¤ ë ˆì½”ë“œ ë“±ë¡ (ë¹„í†  ìµœì¢… ë¹Œë“œ í›„)

### ë³´ì•ˆ
- [x] ì†ŒìŠ¤ ë³´í˜¸: ìš°í´ë¦­/F12/ê°œë°œìë„êµ¬/ë“œë˜ê·¸ ì°¨ë‹¨ (3ê°œ ë„ë©”ì¸ ì „ì²´ ì ìš©)
- [ ] í”„ë¡ íŠ¸ì—”ë“œ ë‚œë…í™” (vite-plugin-obfuscator, ëŸ°ì¹­ ì§ì „ ì ìš©)
- [ ] ìŠˆí¼ê´€ë¦¬ì IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì„¤ì •

### ì¸ë¹„í† AI (ë©”ì‹œì§• íŠ¹í™” ëª¨ë¸)
- [x] ai_training_logs í…Œì´ë¸” + training-logger.ts + campaigns.ts ì—°ê²°
- [ ] ì´ìš©ì•½ê´€ì— ë¹„ì‹ë³„ ë°ì´í„° í™œìš© ì¡°í•­ ì¶”ê°€
- [ ] ë°ì´í„° ì¶©ë¶„íˆ ì¶•ì  í›„ ëª¨ë¸ í•™ìŠµ íŒŒì´í”„ë¼ì¸ ì„¤ê³„

---

## 9) DECISION LOG (ADR Index)
> í•­ëª©ì´ 10ê°œë¥¼ ì´ˆê³¼í•˜ë©´ ì˜¤ë˜ëœ í•­ëª©ì€ ì•„ì¹´ì´ë¸Œë¡œ ì´ë™í•˜ê³  1ì¤„ ìš”ì•½ë§Œ ë‚¨ê¸´ë‹¤.

| ID | ë‚ ì§œ | ê²°ì • | ê·¼ê±° |
|----|------|------|------|
| D36 | 02-26 | MySQL íƒ€ì„ì¡´ KST â€” í’€ ë ˆë²¨ ë³´ê°• | ì»¤ë„¥ì…˜ í’€ 10ê°œ ì¤‘ 1ê°œë§Œ TZ ì„¤ì •ë˜ëŠ” êµ¬ì¡°ì  ë¬¸ì œ |
| D37 | 02-26 | GPT ì˜ê²¬ ìˆ˜ìš© ì›ì¹™ â€” ì½”ë“œ ê·¼ê±° ê¸°ë°˜ íŒë‹¨ | GPT "ë¯¸ìˆ˜ì •" ì§€ì ì— ì½”ë“œ í™•ì¸ ì—†ì´ ë™ì˜â†’ë¬¸ì„œ ì˜¤ì—¼ |
| D38 | 02-26 | í‘œì¤€ í•„ë“œ ì•„í‚¤í…ì²˜ ë³µêµ¬ â€” standard-field-map.ts ë§¤í•‘ ë ˆì´ì–´ ë„ì… | 4ê³³ í•˜ë“œì½”ë”© ë¶ˆì¼ì¹˜â†’í•„í„° ì „ë©¸+ë°ì´í„° ì†ì‹¤ |
| D39 | 02-26 | í‘œì¤€ í•„ë“œ ì•„í‚¤í…ì²˜ ì¬ì •ì˜ â€” í•„ìˆ˜ 17ê°œ + ì»¤ìŠ¤í…€ 15ê°œ í™•ì • | ê¸°ì¡´ 41ê°œâ†’32ê°œ ì •ë¦¬. FIELD-INTEGRATION.md ê¸°ì¤€ |
| D40 | 02-27 | AI ë§ì¶¤í•œì¤„ ë™ì  í•„ë“œ + UX ê°œì„  â€” ì»¤ìŠ¤í…€ ì‹¤ë°ì´í„°ë§Œ ë…¸ì¶œ + í†¤ ì œê±° + í•„ë“œëª… í‘œì‹œ | enabled-fields ë‹¨ì¼ ê²½ë¡œ+JSONB ì‹¤ë°ì´í„°ë§Œ ë°˜í™˜ |
| D41 | 02-27 | ëŒ€ì‹œë³´ë“œ ë™ì  ì¹´ë“œ ì‹œìŠ¤í…œ â€” ìŠˆí¼ê´€ë¦¬ì ì²´í¬ ì„¤ì • + FIELD_MAP 17ê°œ ê¸°ë°˜ ì¹´ë“œ í’€ | ê³ ê°ì‚¬ë§ˆë‹¤ ë³´ìœ  ë°ì´í„° ë‹¤ë¦„. í•˜ë“œì½”ë”© ê³ ì •â†’ë™ì  ì „í™˜. company_settings í™œìš©, 4ì¹¸/8ì¹¸ ëª¨ë“œ |
| D42 | 02-27 | ë°œì†¡í˜„í™© í•˜ë“œì½”ë”© ì œê±° â€” VIP/30ì¼ë§¤ì¶œ â†’ ì„±ê³µê±´ìˆ˜/í‰ê· ì„±ê³µë¥ /ì´ì‚¬ìš©ê¸ˆì•¡ | ë°œì†¡í˜„í™© ì˜ì—­ì— VIPÂ·ë§¤ì¶œì€ ë§¥ë½ ë¶ˆì¼ì¹˜. ë°œì†¡ ê´€ë ¨ ì§€í‘œë¡œ í†µì¼ |
| D43 | 02-27 | ê¸°ëŠ¥ ì •ìƒí™” ë° DB ë™ì  ê¸°ì¤€ ì •ë¦½ â€” 5ê°œ ì•ˆê±´ (íšŒì‚¬ëª…/ë§¤í•‘UI/íƒ€ê²Ÿí•„í„°/ìˆ˜ì‹ ê±°ë¶€ë™ê¸°í™”/AIí¬ë§·) | D39 ì´í›„ ë¯¸ë°˜ì˜ ê¸°ëŠ¥ ì •ìƒí™”. ë°œì†¡ íŒŒì´í”„ë¼ì¸ ë¯¸ì ‘ì´‰ |
| D44 | 02-27 | AI ë§¤í•‘ í™”ë©´ ê°œí¸ â€” ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ + íƒœê·¸ í´ë¦­ 2ì—´ ê·¸ë¦¬ë“œ + ì»¤ìŠ¤í…€ +/- | í•˜ë“œì½”ë”© ë“œë¡­ë‹¤ìš´ 16ê°œâ†’FIELD_MAP ë™ì  20ê°œ, Dashboard.tsx 310ì¤„ ë¶„ë¦¬ ê²½ëŸ‰í™” |
| D45 | 02-27 | AI í•œì¤„ë¡œ 3ì¢… ê°œì„  â€” ê°œì¸í™” í•„ìˆ˜ íŒŒì‹± + ìƒ˜í”Œ ê³ ê° ë¯¸ë¦¬ë³´ê¸° + ì´ëª¨ì§€ ê°•ì œ ì œê±° | ë³€ìˆ˜ ì˜¤ë¥˜ ë°©ì§€+ë¯¸ë¦¬ë³´ê¸° ì‹¤ê°+SMS ê¹¨ì§ ë°©ì§€. ë°œì†¡ íŒŒì´í”„ë¼ì¸ ë¬´ì ‘ì´‰ |
| D46 | 02-27 | ì§ì ‘ íƒ€ê²Ÿ ì„¤ì • ì „ë©´ ë¦¬íŒ©í† ë§ â€” ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ + ì „ì²´ í•„ë“œ ë…¸ì¶œ + 2ì—´ ì»´íŒ©íŠ¸ + ë‹¤ì¤‘ì„ íƒ + ì—°ë ¹ë²”ìœ„ | SKIP_FIELDS ì œê±°(Haroldë‹˜ í™•ì •), ì‚¬ìš©ìì—ê²Œ í•„ë“œ ì„ íƒ ìœ„ì„. Dashboard 405ì¤„ ê°ì†Œ |
| D47 | 02-27 | ì§ì ‘ íƒ€ê²Ÿ ë°œì†¡ ëª¨ë‹¬ ë¶„ë¦¬ + í•˜ë“œì½”ë”© 8ê³³ ë™ì í™” + ì»¤ì„œìœ„ì¹˜ ë²„ê·¸ ìˆ˜ì • â€” TargetSendModal.tsx ì‹ ê·œ | fieldsMeta ê¸°ë°˜ ë™ì (ìë™ì…ë ¥/í…Œì´ë¸”/ì¹˜í™˜/ë°”ì´íŠ¸ì²´í¬/ë¯¸ë¦¬ë³´ê¸°). Dashboard 638ì¤„ ê°ì†Œ |

**ì•„ì¹´ì´ë¸Œ:** D1-AIë°œì†¡2ë¶„ê¸°(02-22) | D2-ë¸Œë¦¬í•‘ë°©ì‹(02-22) | D3-ê°œì¸í™”í•„ë“œì²´í¬ë°•ìŠ¤(02-22) | D4-textareaì œê±°(02-22) | D5-ë³„ë„ì»´í¬ë„ŒíŠ¸ë¶„ë¦¬(02-22) | D6-ëŒ€ì‹œë³´ë“œë ˆì´ì•„ì›ƒ(02-22) | D7-í—¤ë”íƒ­ìŠ¤íƒ€ì¼(02-23) | D8-AUTO/PROë±ƒì§€(02-23) | D9-ìº˜ë¦°ë”ìƒíƒœê¸°ì¤€(02-23) | D10-6ì°¨ì„¸ì…˜ë¶„í• (02-23) | D11-KCPì „í™˜(02-23) | D12-ì´ìš©ì•½ê´€(02-23) | D13-ìˆ˜ì‹ ê±°ë¶€SoT(02-23) | D14-7ì°¨3ì„¸ì…˜ë¶„í• (02-24) | D15-ì œëª©ë¨¸ì§€â†’D28ë²ˆë³µ(02-25) | D16-ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸ê³¼ê¸ˆ(02-25) | D17-í…ŒìŠ¤íŠ¸í†µê³„í™•ì¥(02-25) | D18-ì •ì‚°ìì²´í—¬í¼(02-25) | D19-êµ¬ë…ìƒíƒœí•„ë“œ(02-25) | D20-AIë¶„ì„ì°¨ë³„í™”(02-25) | D21-planInfoì‹¤ì‹œê°„(02-25) | D22-ìŠ¤íŒ¸ì ê¸ˆì§ì ‘ë°œì†¡ë§Œ(02-25) | D23-previewë³´ì•ˆ(02-25) | D24-runì„¸ì…˜1ì™„ì „êµ¬í˜„(02-25) | D25-pdfkitì„ íƒ(02-25) | D26-ë¶„ì„ìºì‹±24h(02-25) | D27-ë¹„ì¦ˆë‹ˆìŠ¤3íšŒìµœì í™”(02-25) | D28-ì œëª©ë¨¸ì§€ì œê±°(02-25) | D29-5ê²½ë¡œì „ìˆ˜ì ê²€(02-25) | D30-ì¦‰ì‹œsendingì „í™˜(02-25) | D31-GPT fallback(02-25) | D32-ë°œì†¡íŒŒì´í”„ë¼ì¸ë³µêµ¬(02-26) | D33-messageUtilsí†µí•©(02-26) | D34-ìŠ¤íŒ¸í•„í„°DBì§ì ‘ì¡°íšŒ(02-26) | D35-ì„ ë¶ˆí™˜ë¶ˆë³´ì¥(02-26) | D-ëŒ€ì‹œë³´ë“œëª¨ë‹¬ë¶„ë¦¬(02-23): 8,039ì¤„â†’4,964ì¤„

---

## 10) ASSUMPTION LEDGER (ê°€ì • ëª©ë¡)

(ì•„ì§ ì—†ìŒ)

---

## 11) RISK REGISTER (ë¦¬ìŠ¤í¬ ëª©ë¡)
| ID | ë¦¬ìŠ¤í¬ | í™•ë¥ (1-5) | ì˜í–¥(1-5) | ì ìˆ˜ | ëŒ€ì‘ |
|----|--------|-----------|-----------|------|------|
| R1 | TypeScript íƒ€ì… ì—ëŸ¬ ë°°í¬ â†’ ì„œë²„ í¬ë˜ì‹œ | 2 | 5 | 10 | ë°°í¬ ì „ tsc --noEmit í•„ìˆ˜ ì²´í¬ |
| R2 | DB íŒŒê´´ì  ì‘ì—… ì‹œ ë°ì´í„° ìœ ì‹¤ | 2 | 5 | 10 | pg_dump ë°±ì—… í›„ ì‘ì—…, íŠ¸ëœì­ì…˜ í™œìš© |
| R3 | QTmsg sendreq_time UTC/KST í˜¼ë™ | 1 | 4 | 4 | âœ… í•´ê²°: database.ts í’€ ë ˆë²¨ KST ë³´ì¥ |
| R4 | ë¼ì¸ê·¸ë£¹ ë¯¸ì„¤ì • ê³ ê°ì‚¬ â†’ ì „ì²´ ë¼ì¸ í´ë°± ì˜¤ë°œì†¡ | 1 | 5 | 5 | âœ… í•´ê²°: ì´ì¤‘ ë°©ì–´ ì ìš© |
| R5 | QTmsg LIVEâ†’LOG ì´ë™ í›„ ê²°ê³¼ ì¡°íšŒ ë¶ˆê°€ | 1 | 4 | 4 | âœ… í•´ê²°: LIVE+LOG í†µí•© ì¡°íšŒ |
| R6 | ìŠ¤íŒ¸í•„í„° ë™ì‹œ í…ŒìŠ¤íŠ¸ ì‹œ ê²°ê³¼ ì¶©ëŒ | 1 | 4 | 4 | âœ… í•´ê²°: SHA-256 ì„¸ì…˜ ê²©ë¦¬ + ë””ë°”ì´ìŠ¤ fallback |
| R15 | ë°œì†¡ 5ê°œ ê²½ë¡œ ì¹˜í™˜ ë¡œì§ ë¶„ì‚° â†’ ì¬ë°œ | 1 | 5 | 5 | âœ… í•´ê²°: messageUtils.ts í†µí•© |
| R16 | results.ts ëŒ€ëŸ‰ ìº í˜ì¸ OOM | 1 | 4 | 4 | âœ… í•´ê²°: UNION ALL ì„œë²„ì¸¡ í˜ì´ì§€ë„¤ì´ì…˜ |
| R17 | ì„ ë¶ˆ ì°¨ê° í›„ ë°œì†¡ ì‹¤íŒ¨ â†’ ì •ì‚° ì´ìŠˆ | 1 | 5 | 5 | âœ… í•´ê²°: 3ê²½ë¡œ prepaidRefund |
| R21 | standard_fields â†” ì½”ë“œ í•˜ë“œì½”ë”© ë¶ˆì¼ì¹˜ | 1 | 5 | 5 | âœ… í•´ê²°: D39 3ì„¸ì…˜ ì™„ë£Œ â€” FIELD_MAP ë‹¨ì¼ ê¸°ì¤€ |

---

## 12) âœ… DONE LOG (ì™„ë£Œ ê¸°ë¡)
> í•­ëª©ì´ 10ê°œë¥¼ ì´ˆê³¼í•˜ë©´ ì˜¤ë˜ëœ í•­ëª©ì€ ì•„ì¹´ì´ë¸Œë¡œ ì´ë™í•˜ê³  1ì¤„ ìš”ì•½ë§Œ ë‚¨ê¸´ë‹¤.
> ìƒì„¸ ë³€ê²½ ì´ë ¥ì€ Git ì»¤ë°‹ íˆìŠ¤í† ë¦¬ ì°¸ê³ .

| ë‚ ì§œ | ì™„ë£Œ í•­ëª© |
|------|----------|
| 02-27 | D43-3c ì§ì ‘íƒ€ê²Ÿ ë°œì†¡ì°½ í•˜ë“œì½”ë”© ì „ë©´ ì œê±° + ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬: TargetSendModal.tsx ì‹ ê·œ(901ì¤„)+DirectTargetFilterModal.tsx FieldMeta export+onExtracted fieldsMeta ì¶”ê°€+Dashboard.tsx 638ì¤„ ê°ì†Œ(4548â†’3910)+DirectPreviewModal.tsx ë™ì ì¹˜í™˜. í•˜ë“œì½”ë”© 8ê³³â†’fieldsMeta ë™ì . ì»¤ì„œìœ„ì¹˜ ì‚½ì… ë²„ê·¸ ìˆ˜ì •(selectionStart). ë°œì†¡íŒŒì´í”„ë¼ì¸ ë¯¸ì ‘ì´‰ |
| 02-27 | D43-3b ì§ì ‘íƒ€ê²Ÿ ë°±ì—”ë“œ ë²„ê·¸ 3ê±´ ìˆ˜ì •: â‘ extract SELECT í•˜ë“œì½”ë”©â†’getColumnFields() FIELD_MAP ë™ì +customers_unifiedâ†’customers ì§ì ‘ì¡°íšŒ â‘¡filter-countë„ customers_unifiedâ†’customers ì „í™˜ â‘¢buildDynamicFilter age í•„í„° EXTRACT(birth_date)â†’age ì»¬ëŸ¼ ì§ì ‘ì‚¬ìš© â‘£DirectTargetFilterModal ì—ëŸ¬í•¸ë“¤ë§+ì»¤ìŠ¤í…€ì•Œë¦¼ëª¨ë‹¬ ì¶”ê°€. ìˆ˜ì • 2íŒŒì¼(customers.ts, DirectTargetFilterModal.tsx) |
| 02-27 | D43 ì•ˆê±´#3 ì§ì ‘íƒ€ê²Ÿ ë¦¬íŒ©í† ë§: DirectTargetFilterModal.tsx ì‹ ê·œ(646ì¤„)+Dashboard.tsx 405ì¤„ ê°ì†Œ+customers.ts ì˜µì…˜ ë™ì í™”+extract SELECT í™•ì¥+buildDynamicFilter contains ì§€ì›. **ğŸš¨ íƒ€ê²Ÿì¶”ì¶œâ†’ë°œì†¡ëª¨ë‹¬ ì—°ê²° ë²„ê·¸ ë¯¸í•´ê²° (ë‹¤ìŒ ì„¸ì…˜)** |
| 02-27 | D43 ì•ˆê±´#5 AI í•œì¤„ë¡œ 3ì¢… ê°œì„ : â‘ ê°œì¸í™”í•„ìˆ˜ íŒŒì‹±(services/ai.ts parsePersonalizationDirective) â‘¡ìƒ˜í”Œê³ ê° ë¯¸ë¦¬ë³´ê¸°(routes/ai.ts sample_customer+Dashboard+AiCampaignResultPopup ë™ì  ì¹˜í™˜) â‘¢ì´ëª¨ì§€ ê°•ì œì œê±°(services/ai.ts stripEmojis, SMS/LMS/MMS í›„ì²˜ë¦¬). ìˆ˜ì • 5íŒŒì¼ |
| 02-27 | D43 ì•ˆê±´#2 AI ë§¤í•‘ í™”ë©´ ê°œí¸: ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬(FileUploadMappingModal.tsx ì‹ ê·œ)+íƒœê·¸í´ë¦­ 2ì—´ ê·¸ë¦¬ë“œ+ì»¤ìŠ¤í…€ +/- ìŠ¬ë¡¯+upload.ts ë°±ì—”ë“œ ì§€ì›. ìˆ˜ì • 3íŒŒì¼ |
| 02-27 | D43 ì•ˆê±´#1 íšŒì‚¬ëª… ë¯¸ë°˜ì˜ í•´ê²°: auth.ts c.nameâ†’c.company_name í†µì¼, companies.ts nameë™ê¸°ìˆ˜ì •+settings company_nameì¶”ê°€, Dashboard.tsx DBì‹¤ì‹œê°„ì¡°íšŒ ìš°ì„ í‘œì‹œ. ìˆ˜ì • 3íŒŒì¼ |
| 02-27 | D41 ì„¸ì…˜2 ëŒ€ì‹œë³´ë“œ ëŒ€ê°œí¸ ì™„ë£Œ + D42 ë°œì†¡í˜„í™© ìˆ˜ì •: AdminDashboard.tsx ëŒ€ì‹œë³´ë“œíƒ­(4/8ëª¨ë“œ+17ì¢…ì²´í¬)+Dashboard.tsx ê³ ê°í˜„í™© í•˜ë“œì½”ë”© ì œê±°â†’ë™ì ì¹´ë“œ+ë¸”ëŸ¬+ë°œì†¡í˜„í™© 3ì¹¸(ì„±ê³µê±´ìˆ˜/ì„±ê³µë¥ /ì‚¬ìš©ê¸ˆì•¡). ìˆ˜ì • 2íŒŒì¼ |
| 02-27 | D41 ì„¸ì…˜1 ë°±ì—”ë“œ API: dashboard-card-pool.ts(ì¹´ë“œí’€17ì¢…)+companies.ts(dashboard-cards ì§‘ê³„API)+admin.ts(ì¹´ë“œì„¤ì • GET/PUT)+idx_company_settings_unique+plans ì˜¤ì—¼ ìˆ˜ì •. ì‹ ê·œ1+ìˆ˜ì •2íŒŒì¼ |
| 02-27 | DashboardHeader.tsx AI ë¶„ì„ ë©”ë‰´ ìŠ¤íƒ€ì¼ ë³€ê²½: ë§¨ ì• ì´ë™, Sparkles ì•„ì´ì½˜ ì œê±°, gold+emphasized ìœ ì§€ |
| 02-27 | AI ë§ì¶¤í•œì¤„ ë™ì  í•„ë“œ + Step 2 UX ê°œì„  (D40): customers.ts enabled-fields ë‹¨ì¼ ê²½ë¡œ, AiCustomSendFlow.tsx í†¤ ì œê±°+í•„ë“œëª… íƒœê·¸, ai.ts tone optional. ìˆ˜ì • 3íŒŒì¼ |
| 02-27 | D39 ì„¸ì…˜2 ì¡°íšŒ+AI ì •ìƒí™” ì™„ë£Œ: customers.ts/ai.ts/Dashboard.tsx/AiCustomSendFlow.tsx í•˜ë“œì½”ë”© 4ê³³ ì „ìˆ˜ ì œê±°â†’FIELD_MAP ë™ì . ìˆ˜ì • 4íŒŒì¼ |
| 02-26 | D39 ì„¸ì…˜0+ì„¸ì…˜1 ì™„ë£Œ: DDL(store_phone)+standard_fields 32ê°œ+standard-field-map.ts ì¬ì‘ì„±+upload.ts+normalize.ts FIELD_MAP ê¸°ë°˜ ë™ì  ì „í™˜ |
| 02-26 | ì½”ë“œ ì‹¤ë¬¼ ê²€ì¦ 5ê±´ + S9-04/S9-08/GP-04 ìˆ˜ì • + S9-07 ëª¨ë‹¬ 6ê³³ êµì²´ + upload.ts sanitize/cleanup/ì¸ì¦ |

**ì•„ì¹´ì´ë¸Œ (02-26 ì´ì „):**
- 02-26: êµ¬ì¡°ì  ê²°í•¨ 7ê±´ ë°œê²¬ + D32 ê³µí†µ ì¹˜í™˜ í•¨ìˆ˜ í†µí•©(messageUtils.ts) + 5ê°œ ê²½ë¡œ ì—°ê²°
- 02-25: AI ë¶„ì„ 4ì„¸ì…˜ ì™„ë£Œ + ìš”ê¸ˆì œ ê¸°ëŠ¥ ì œí•œ + êµ¬ë… ì‹¤ì‹œê°„ ë°˜ì˜ + ìŠ¤íŒ¸í•„í„° ì ê¸ˆ + 8ì°¨ ë²„ê·¸ 13ê±´ + GPT fallback + ëŒ€ì‹œë³´ë“œ ë°˜ì‘ì†ë„ ê°œì„ 
- 02-25: ë°œì†¡í†µê³„ ê³ ë„í™” + 7ì°¨ 3ì„¸ì…˜ ì™„ë£Œ + 6ì°¨ 11ê±´ ì™„ë£Œ
- 02-24: ì§ì› ë²„ê·¸ë¦¬í¬íŠ¸ 7ì°¨ ì„¸ì…˜1(ë™ì í•„ë“œì „í™˜) + ìš”ê¸ˆì œ ê²Œì´ì§€ë°” + ì†ŒìŠ¤ë³´í˜¸ + ì–´ë“œë¯¼í†µê³„ ìˆ˜ì • + 080ì—°ë™
- 02-23: ëŒ€ì‹œë³´ë“œ ëª¨ë‹¬ ë¶„ë¦¬(8039â†’4964ì¤„) + í—¤ë” íƒ­ìŠ¤íƒ€ì¼ + ë°°í¬ìë™í™” + ìˆ˜ì‹ ê±°ë¶€í†µí•© + 6ì°¨ ì„¸ì…˜1
- 02-22: ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ ì „ë©´ ê°œí¸ + AI ë§ì¶¤í•œì¤„ Phase 1 ì‹œì‘
- ~02-21: ìˆ˜ì‹ ê±°ë¶€ ë¯¸ë°˜ì˜ ìˆ˜ì • + ìŠ¤íŒ¸í•„í„° ì™„ì„± + ì—…ë¡œë“œ ì•ˆì •í™” + ë¼ì¸ê·¸ë£¹ ì‹œìŠ¤í…œ
- ~02-10: ì„œë²„ ì¸í”„ë¼ ì „ì²´ ë°°í¬, í•µì‹¬ ê¸°ëŠ¥ ì™„ì„±, ìŠˆí¼ê´€ë¦¬ìÂ·ê³ ê°ì‚¬ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ, ì •ì‚° ì‹œìŠ¤í…œ, QTmsg Agent 5â†’11ê°œ

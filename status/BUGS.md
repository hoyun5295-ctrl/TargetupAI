# ğŸ› BUGS.md â€” í•œì¤„ë¡œ ë²„ê·¸ íŠ¸ë˜ì»¤

> **ëª©ì :** ë²„ê·¸ì˜ ë°œê²¬â†’ë¶„ì„â†’ìˆ˜ì •â†’êµì°¨ê²€ì¦â†’ì™„ë£Œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ì—¬ ì¬ë°œì„ ë°©ì§€í•œë‹¤.  
> **ì›ì¹™:** (1) ì¶”ì¸¡ì„± ë•œì§ˆ ê¸ˆì§€ (2) ê·¼ë³¸ ì›ì¸ 3ì¤„ ì´ë‚´ íŠ¹ì • (3) êµì°¨ê²€ì¦ í†µê³¼ ì „ê¹Œì§€ Closed ê¸ˆì§€ (4) ì¬ë°œ íŒ¨í„´ ê¸°ë¡  
> **SoT(ì§„ì‹¤ì˜ ì›ì²œ):** STATUS.md + ì´ ë¬¸ì„œ. ì±„íŒ…ì—ì„œ ë– ë„ëŠ” "ìˆ˜ì • ì™„ë£Œ"ëŠ” êµì°¨ê²€ì¦ ì „ê¹Œì§€ "ì„ì‹œ"ë‹¤.
> **í˜„í™©:** 8ì°¨ 13ê±´ ìˆ˜ì •ì™„ë£Œ(2ë‹¨ê³„ ëŒ€ê¸°) + **9ì°¨: S9-04 ğŸŸ¡ìˆ˜ì •ì™„ë£Œ, S9-05/06 Closed, S9-01/02/03 âœ…ì™„ë£Œ, S9-07 Open, S9-08 ğŸŸ¡ìˆ˜ì •ì™„ë£Œ** + **GPT P0: GP-01/03/05 âœ…ì½”ë“œí™•ì¸, GP-04 âœ…í’€ë ˆë²¨ìˆ˜ì •, GP-02 ğŸŸ¡Nginxí™•ì¸í•„ìš”** + ìŠ¤íŒ¸í•„í„° ë¦¬í¬íŠ¸ ë§¤ì¹­ ê°œì„  + íŒŒì¼ì—…ë¡œë“œ í”„ë¡ íŠ¸ ì¸ì¦ ìˆ˜ì •
> **âš ï¸ 2026-02-26 ì½”ë“œ ì‹¤ë¬¼ ê²€ì¦:** GPT "ë¯¸ìˆ˜ì •" ì§€ì  5ê±´ ì¤‘ GP-01/03/05ëŠ” ì´ë¯¸ ì½”ë“œì— ë°˜ì˜ë¨ í™•ì¸. GP-04ëŠ” í’€ ë ˆë²¨ë¡œ ë³´ê°•. ë¬¸ì„œì˜ "âŒ ë¯¸ìˆ˜ì •" í‘œê¸°ê°€ ì‹¤ì œ ì½”ë“œë³´ë‹¤ ë’¤ë–¨ì–´ì ¸ ìˆì—ˆìŒ.

---

## 1) ë²„ê·¸ ì²˜ë¦¬ í”„ë¡œí† ì½œ

### 1-1. ì‹¬ê°ë„ ê¸°ì¤€

| ë“±ê¸‰ | ê¸°í˜¸ | ê¸°ì¤€ | ì˜ˆì‹œ |
|------|------|------|------|
| Blocker | ğŸ”´ğŸ”´ | í•µì‹¬ ê¸°ëŠ¥ ì™„ì „ ë¶ˆëŠ¥, ë°ì´í„° ì†ì‹¤ ìœ„í—˜ | ë°œì†¡ ì•ˆ ë¨, ë‹¤ë¥¸ ë¬¸ì•ˆ ì €ì¥ |
| Critical | ğŸ”´ | ì£¼ìš” ê¸°ëŠ¥ ì˜¤ë™ì‘, ë³´ì•ˆ ìœ„í—˜ | ë¯¸ë“±ë¡ íšŒì‹ ë²ˆí˜¸ ì°¨ë‹¨ ì•ˆ ë¨, ì œëª© ë¨¸ì§€ ë¯¸ì ìš© |
| Major | ğŸŸ  | ê¸°ëŠ¥ ì¼ë¶€ ì˜¤ë™ì‘, ì‚¬ìš©ì ë¶ˆí¸ | ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì˜¤íŒì •, ì„±ê³µëª¨ë‹¬ ì •ë³´ ë¶ˆì¼ì¹˜ |
| Minor | ğŸŸ¡ | UI í‘œì‹œ ì˜¤ë¥˜, ì‚¬ì†Œí•œ ë¶ˆí¸ | ë‚ ì§œ í˜•ì‹, ë°œì†¡ì¼ì‹œ í‘œì‹œ |

### 1-2. ìƒíƒœ ì •ì˜

| ìƒíƒœ | ì˜ë¯¸ |
|------|------|
| ğŸ”µ Open | ë°œê²¬ë¨, ë¯¸ìˆ˜ì • |
| ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° | ì½”ë“œ ìˆ˜ì • ì™„ë£Œ, êµì°¨ê²€ì¦ ë¯¸ì‹¤ì‹œ |
| âœ… Closed | êµì°¨ê²€ì¦ 2ë‹¨ê³„ ëª¨ë‘ í†µê³¼ |
| ğŸ”„ Reopened | êµì°¨ê²€ì¦ ì‹¤íŒ¨ ë˜ëŠ” ì¬ë°œ |

### 1-3. êµì°¨ê²€ì¦ í”„ë¡œí† ì½œ (Closed ì¡°ê±´)

ë²„ê·¸ê°€ "í•´ê²°ë¨"ì´ ë˜ë ¤ë©´ ë°˜ë“œì‹œ ì•„ë˜ **2ë‹¨ê³„ë¥¼ ëª¨ë‘ í†µê³¼**í•´ì•¼ í•œë‹¤.

**1ë‹¨ê³„ â€” ì½”ë“œ ê²€ì¦ (Claude):**
- ìˆ˜ì • ì½”ë“œê°€ ê´€ë ¨ ê²½ë¡œ **ì „ë¶€**ì— ì¼ê´€ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸
- ë°œì†¡ ê´€ë ¨ì´ë©´ 5ê°œ ê²½ë¡œ ì „ìˆ˜ ì ê²€ ë§¤íŠ¸ë¦­ìŠ¤ í•„ìˆ˜
- AI ê´€ë ¨ì´ë©´ í•œì¤„ë¡œ + ë§ì¶¤í•œì¤„ ì–‘ìª½ í™•ì¸
- TypeScript íƒ€ì… ì²´í¬ í†µê³¼ ê·¼ê±° ì œì‹œ

**2ë‹¨ê³„ â€” ì‹¤ë™ì‘ ê²€ì¦ (Haroldë‹˜):**
- ì‹¤ì„œë¹„ìŠ¤(app.hanjul.ai)ì—ì„œ ì ê²€ ë°©ë²•ëŒ€ë¡œ ì‹¤í–‰
- ê¸°ëŒ€ ê²°ê³¼ì™€ ì‹¤ì œ ê²°ê³¼ ì¼ì¹˜ í™•ì¸
- ìŠ¤í¬ë¦°ìƒ·/ë¡œê·¸ ë“± ì¦ê±° í™•ë³´ (ê°€ëŠ¥í•œ ê²½ìš°)

**íŒì •:**
- 2ë‹¨ê³„ ëª¨ë‘ í†µê³¼ â†’ âœ… Closed
- í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨ â†’ ğŸ”„ Reopened + ì‹¤íŒ¨ ì›ì¸ ë¶„ì„ â†’ ì¬ìˆ˜ì •

### 1-4. ì—ëŸ¬ ëŒ€ì‘ í”„ë¡œí† ì½œ (ì‹ ê·œ ë²„ê·¸ ë°œìƒ ì‹œ)

1. **ì¦ìƒ ê¸°ë¡:** ê¸°ëŒ€ ê²°ê³¼ / ì‹¤ì œ ê²°ê³¼ / ì¬í˜„ ì ˆì°¨ / í™˜ê²½
2. **ì›ì¸ íŠ¹ì •:** 3ì¤„ ì´ë‚´ë¡œ ê·¼ë³¸ ì›ì¸ ìš”ì•½
3. **í•´ê²° ì˜µì…˜:** 2ê°€ì§€ ì´ìƒ ì œì‹œ (ì¥ë‹¨ì /ë¦¬ìŠ¤í¬/ì†Œìš”) â†’ Haroldë‹˜ ì„ íƒ
4. **ìµœì†Œ ìˆ˜ì •:** ì„ íƒëœ ì˜µì…˜ìœ¼ë¡œ ìˆ˜ì • + ê´€ë ¨ ê²½ë¡œ ì „ìˆ˜ ì ê²€
5. **êµì°¨ê²€ì¦:** 1-3ì˜ 2ë‹¨ê³„ í”„ë¡œí† ì½œ ì‹¤í–‰

---

## 2) ğŸ“‹ 8ì°¨ ë²„ê·¸ë¦¬í¬íŠ¸ êµì°¨ê²€ì¦ (13ê±´ â€” 1ë‹¨ê³„ ì „ì²´ í†µê³¼, 2ë‹¨ê³„ ëŒ€ê¸°)

> **ë¦¬í¬íŠ¸ ì¼ì‹œ:** 2026-02-25  
> **ë¦¬í¬íŠ¸ í˜•íƒœ:** PPT 12ìŠ¬ë¼ì´ë“œ  
> **ë°°ê²½:** 6ì°¨/7ì°¨ì—ì„œ "ì™„ë£Œ" ì²˜ë¦¬í•œ ë²„ê·¸ 5ê±´ì´ ì¬ë°œ  
> **ê·¼ë³¸ ì›ì¸:** ë°œì†¡ ê²½ë¡œê°€ 5ê°œì¸ë° ì‹ ê³ ëœ 1ê°œ ê²½ë¡œë§Œ íŒ¨ì¹˜í•˜ê³  ë‚˜ë¨¸ì§€ 4ê°œë¥¼ ì ê²€í•˜ì§€ ì•ŠìŒ  
> **Haroldë‹˜ ê²°ì •:** ì œëª© ë¨¸ì§€ ì™„ì „ ì œê±°(D28), 5ê°œ ê²½ë¡œ ì „ìˆ˜ ì ê²€ ë§¤íŠ¸ë¦­ìŠ¤ ì˜ë¬´í™”(D29)  
> **ì²˜ë¦¬:** 3ì„¸ì…˜ + ì¶”ê°€ì„¸ì…˜(6ê±´) + 2ì°¨ ì „ìˆ˜ì ê²€ ì„¸ì…˜(B8-08 ì™„ë£Œ + B8-12 ë³´ì™„) = ì´ 5ë¼ìš´ë“œ ìˆ˜ì •  
> **ìˆ˜ì • íŒŒì¼(10ê°œ):** campaigns.ts, Dashboard.tsx, AiCampaignResultPopup.tsx, spam-filter.ts, services/ai.ts, SendConfirmModal.tsx, upload.ts, AiCustomSendFlow.tsx, CampaignSuccessModal.tsx  
> **1ë‹¨ê³„ ì½”ë“œ ê²€ì¦:** 13ê±´ ì „ì²´ í†µê³¼ (2ì°¨ ì „ìˆ˜ì ê²€ 2026-02-25 ì™„ë£Œ)  
> **2ë‹¨ê³„ ì‹¤ë™ì‘ ê²€ì¦:** ì§ì› í…ŒìŠ¤íŠ¸ ëŒ€ê¸° ì¤‘

---

### B8-01: ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì „ë¶€ "ìŠ¤íŒ¸ì°¨ë‹¨" í‘œì‹œ

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ |
| **ê¸°ëŒ€ ê²°ê³¼** | ë‹¨ë§ì—ì„œ ì •ìƒ ìˆ˜ì‹ ëœ ë¬¸ìëŠ” "ì •ìƒ" í‘œì‹œ |
| **ì‹¤ì œ ê²°ê³¼** | ì‹¤ì œ ë‹¨ë§ì€ ì •ìƒ ìˆ˜ì‹ í–ˆëŠ”ë° ê²°ê³¼ê°€ ì „ë¶€ "ìŠ¤íŒ¸ì°¨ë‹¨" |
| **ì¬ë°œ ì—¬ë¶€** | âš ï¸ 7ì°¨#3,4 "ìŠ¤íŒ¸í•„í„° ë™ì‹œì„± í•´ê²°" í›„ ì¬ë°œ â€” ë™ì‹œì„±ì€ í•´ê²°í–ˆì§€ë§Œ ê²°ê³¼ íŒì • ë¡œì§ ìì²´ ë¯¸ì ê²€ |
| **ê·¼ë³¸ ì›ì¸** | í´ë§ ì¤‘ QTmsg ì„±ê³µ + ì•± ë¯¸ìˆ˜ì‹  ìƒíƒœë¥¼ ì¦‰ì‹œ "blocked"ë¡œ íŒì •. ì‹¤ì œë¡œëŠ” ì•±ì´ ìˆ˜ì‹  ë¦¬í¬íŠ¸ë¥¼ ì˜¬ë¦¬ê¸°ê¹Œì§€ ì‹œê°„ ì§€ì—°ì´ ìˆìŒ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  í´ë§ ì¤‘ QTmsgì„±ê³µ+ì•±ë¯¸ìˆ˜ì‹ â†’result=null(ëŒ€ê¸°ìœ ì§€) â‘¡ 3ë¶„ íƒ€ì„ì•„ì›ƒ ì‹œ ìµœì¢…íŒì •(ì„±ê³µâ†’blocked, ì‹¤íŒ¨â†’failed, ëŒ€ê¸°â†’timeout) |
| **ìˆ˜ì • íŒŒì¼** | spam-filter.ts |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 2 |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | spam-filter.ts í´ë§ ë£¨í”„ì—ì„œ QTmsgì„±ê³µ+ì•±ë¯¸ìˆ˜ì‹  ì‹œ result=null ìœ ì§€ í™•ì¸ (L221-226) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | 3ë¶„ íƒ€ì„ì•„ì›ƒ ìµœì¢…íŒì • ë¡œì§(ì„±ê³µâ†’blocked, ì‹¤íŒ¨â†’failed, ëŒ€ê¸°â†’timeout) í™•ì¸ (L260-299) | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ ì‹¤í–‰ â†’ ë‹¨ë§ ì •ìƒ ìˆ˜ì‹  ì‹œ "ì •ìƒ" í‘œì‹œë˜ëŠ”ì§€ | â¬œ |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ ì‹¤í–‰ â†’ ì‹¤ì œ ì°¨ë‹¨ ì‹œ "ìŠ¤íŒ¸ì°¨ë‹¨" í‘œì‹œë˜ëŠ”ì§€ | â¬œ |

---

### B8-02: ì œëª© ë¨¸ì§€ ë¯¸ì ìš© (%ê³ ê°ëª…% ê·¸ëŒ€ë¡œ ë°œì†¡)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ Critical |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” AIë°œì†¡/ì§ì ‘ë°œì†¡ |
| **ê¸°ëŒ€ ê²°ê³¼** | LMS ì œëª©ì— ê°œì¸í™” ë³€ìˆ˜ê°€ ì¹˜í™˜ë˜ì–´ ë°œì†¡ |
| **ì‹¤ì œ ê²°ê³¼** | ì œëª©ì— %ê³ ê°ëª…% ë“± ë³€ìˆ˜ê°€ ê·¸ëŒ€ë¡œ ë…¸ì¶œë˜ì–´ ë°œì†¡ |
| **ì¬ë°œ ì—¬ë¶€** | âš ï¸ 7ì°¨#9 "LMS ì œëª© ë¨¸ì§€ ì¹˜í™˜ ì™„ë£Œ" í›„ ì¬ë°œ â€” 5ê°œ ê²½ë¡œ ì¤‘ ì¼ë¶€ë§Œ íŒ¨ì¹˜ |
| **ê·¼ë³¸ ì›ì¸** | 5ê°œ ë°œì†¡ ê²½ë¡œì—ì„œ ì œëª© ë¨¸ì§€ ë¡œì§ì´ ì¼ê´€ë˜ì§€ ì•ŠìŒ. ê·¼ë³¸ì ìœ¼ë¡œ ì œëª©ì— ë³€ìˆ˜ë¥¼ ë„£ëŠ” êµ¬ì¡° ìì²´ê°€ ë¶ˆì•ˆì • |
| **Haroldë‹˜ ê²°ì •** | **D28: ì œëª© ë¨¸ì§€ ì™„ì „ ì œê±°** â€” ë³¸ë¬¸ë§Œ ê°œì¸í™”, ì œëª©ì€ ê³ ì • í…ìŠ¤íŠ¸. D15(LMS ì œëª© ë¨¸ì§€ ì¹˜í™˜) ë²ˆë³µ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  campaigns.ts /:id/send â€” personalizedSubject ì‚­ì œâ†’campaign.subject ê³ ì • â‘¡ campaigns.ts /direct-send â€” finalSubject replace ì²´ì¸ ì‚­ì œâ†’req.body.subject ê³ ì • â‘¢ campaigns.ts ì˜ˆì•½ìˆ˜ì • â€” ì œëª© ë¨¸ì§€ ì¹˜í™˜ ì½”ë“œ ì‚­ì œ â‘£ spam-filter.ts â€” ì œëª© ë¨¸ì§€ ì—†ì´ ì…ë ¥ê°’ ê·¸ëŒ€ë¡œ â‘¤ services/ai.ts â€” í”„ë¡¬í”„íŠ¸ 4ê³³ ì œëª© ë³€ìˆ˜ ê¸ˆì§€ + ì„œë²„ ì•ˆì „ì¥ì¹˜ 2ê³³(subject.replace strip) â‘¥ í”„ë¡ íŠ¸ì—”ë“œ â€” ì œëª© ì…ë ¥ë€ "ê°œì¸í™” ë³€ìˆ˜ ë¯¸ì§€ì›" ì•ˆë‚´ |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts, spam-filter.ts, services/ai.ts, í”„ë¡ íŠ¸ì—”ë“œ |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 1 (campaigns.ts) + ì„¸ì…˜ 2 (spam-filter.ts, ai.ts) |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | campaigns.ts 3ê³³(/:id/send L1019, /direct-send L1891, ì˜ˆì•½ìˆ˜ì • L2512)ì—ì„œ ì œëª© ë¨¸ì§€ ì¹˜í™˜ ì½”ë“œ ì „ë¶€ ì‚­ì œ í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | spam-filter.tsì—ì„œ ì œëª© ë¨¸ì§€ ì—†ì´ ì…ë ¥ê°’ ê·¸ëŒ€ë¡œ ì „ë‹¬ í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | services/ai.ts í”„ë¡¬í”„íŠ¸ 4ê³³ ì œëª© ë³€ìˆ˜ ê¸ˆì§€ + ì„œë²„ strip 2ê³³(L537, L1259) í™•ì¸ | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | AIë°œì†¡ â†’ LMS ë°œì†¡ í›„ ì œëª©ì— %ë³€ìˆ˜% ì—†ì´ ê³ ì • í…ìŠ¤íŠ¸ì¸ì§€ | â¬œ |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ì§ì ‘ë°œì†¡ â†’ LMS ë°œì†¡ í›„ ì œëª©ì— %ë³€ìˆ˜% ì—†ì´ ê³ ì • í…ìŠ¤íŠ¸ì¸ì§€ | â¬œ |

---

### B8-03: ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸ ì‹œ ê°œì¸í™” ì•ˆ ëœ ì›ë³¸ ë¬¸ì•ˆ ê·¸ëŒ€ë¡œ ë°œì†¡

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ |
| **ê¸°ëŒ€ ê²°ê³¼** | ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸ ë°œì†¡ ì‹œ %ì´ë¦„% â†’ ì‹¤ì œ ì´ë¦„ ë“± ê°œì¸í™” ì¹˜í™˜ í›„ ë°œì†¡ |
| **ì‹¤ì œ ê²°ê³¼** | %ì´ë¦„%, %ë“±ê¸‰% ë“± ë³€ìˆ˜ê°€ ê·¸ëŒ€ë¡œ ë°œì†¡ (í…ŒìŠ¤íŠ¸ ë¬´ì˜ë¯¸) |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ |
| **ê·¼ë³¸ ì›ì¸** | ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸ ê²½ë¡œì— ê°œì¸í™” ì¹˜í™˜ ë¡œì§ì´ ì•„ì˜ˆ ì—†ì—ˆìŒ. ë³¸ë¬¸ì„ ì›ë³¸ ê·¸ëŒ€ë¡œ MySQL INSERT |
| **ìˆ˜ì • ë‚´ìš©** | â‘  spam-filter.ts â€” applySampleVars() í•¨ìˆ˜ ì¶”ê°€(ê¹€ë¯¼ìˆ˜/VIP/ê°•ë‚¨ì  ìƒ˜í”Œì¹˜í™˜), í•´ì‹œë„ ì¹˜í™˜ í›„ ë‚´ìš©ìœ¼ë¡œ ê³„ì‚° â‘¡ Dashboard.tsx(ì¶”ê°€ì„¸ì…˜) â€” ì§ì ‘íƒ€ê²Ÿì¶”ì¶œ+ì§ì ‘ë°œì†¡ ì–‘ìª½, ë¦¬ìŠ¤íŠ¸ ì²«ë²ˆì§¸ ê³ ê° ë°ì´í„°ë¡œ %ì´ë¦„% %ë“±ê¸‰% ë“± ì¹˜í™˜ í›„ ì „ë‹¬ |
| **ìˆ˜ì • íŒŒì¼** | spam-filter.ts, Dashboard.tsx |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 2 + ì¶”ê°€ì„¸ì…˜ |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | spam-filter.ts applySampleVars() í•¨ìˆ˜ ì¡´ì¬(L126) + í˜¸ì¶œ ìœ„ì¹˜(L147) í™•ì¸ | âœ… (âš ï¸ D32ì—ì„œ applySampleVarsâ†’replaceVariables ê³µí†µ í•¨ìˆ˜ë¡œ êµì²´ë¨. S9-02 ì°¸ì¡°) |
| 1ë‹¨ê³„ ì½”ë“œ | Dashboard.tsx ì§ì ‘íƒ€ê²Ÿì¶”ì¶œ+ì§ì ‘ë°œì†¡ì—ì„œ ì²«ë²ˆì§¸ ê³ ê° ë°ì´í„° ì¹˜í™˜ ë¡œì§ í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | í•´ì‹œ ê³„ì‚°ì´ ì¹˜í™˜ í›„ ë‚´ìš© ê¸°ì¤€ì¸ì§€ í™•ì¸ (L62-72) | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ â†’ ë°œì†¡ëœ ë¬¸ìì— ìƒ˜í”Œ ë°ì´í„° ì¹˜í™˜ë˜ì–´ ìˆëŠ”ì§€ (%ì´ë¦„%â†’ì‹¤ì œì´ë¦„) | â¬œ |

---

### B8-04: ë¯¸ë“±ë¡ íšŒì‹ ë²ˆí˜¸ì¸ë° ë°œì†¡ ì§„í–‰ë¨ (ì°¨ë‹¨ ì•ˆ ë¨)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ Critical |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” AIë°œì†¡/ì§ì ‘ë°œì†¡ |
| **ê¸°ëŒ€ ê²°ê³¼** | ë¯¸ë“±ë¡ ê°œë³„íšŒì‹ ë²ˆí˜¸ë¡œ ë°œì†¡ ì‹œë„ ì‹œ ì—ëŸ¬ ì°¨ë‹¨ |
| **ì‹¤ì œ ê²°ê³¼** | ë¯¸ë“±ë¡ íšŒì‹ ë²ˆí˜¸ì¸ë° ë°œì†¡ì´ ê·¸ëŒ€ë¡œ ì§„í–‰ë¨ |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ |
| **ê·¼ë³¸ ì›ì¸** | ë°œì†¡ APIì— íšŒì‹ ë²ˆí˜¸ ë“±ë¡ ì—¬ë¶€ ê²€ì¦ ë¡œì§ì´ ì—†ì—ˆìŒ. sender_numbers/callback_numbers í…Œì´ë¸” ëŒ€ì¡° ë¯¸ì‹¤ì‹œ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  campaigns.ts /:id/send(AIë°œì†¡) â€” sender_numbers ê²€ì¦ ì¶”ê°€(ì¼ë°˜ L836 + ê°œë³„ L946) â‘¡ campaigns.ts /direct-send(ì§ì ‘ë°œì†¡) â€” sender_numbers âˆª callback_numbers ëŒ€ì¡° ê²€ì¦ ì¶”ê°€(ì¼ë°˜ L1755 + ê°œë³„ L1773) |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 1 + ì¶”ê°€ì„¸ì…˜(ê²€ì¦ ê°•í™”) |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | campaigns.ts /:id/sendì—ì„œ sender_numbers ê²€ì¦ ë¡œì§ í™•ì¸ (ì¼ë°˜ L836 + ê°œë³„ L946) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | campaigns.ts /direct-sendì—ì„œ sender_numbers âˆª callback_numbers ëŒ€ì¡° ê²€ì¦ í™•ì¸ (ì¼ë°˜ L1755 + ê°œë³„ L1773) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | 5ê°œ ê²½ë¡œ ë§¤íŠ¸ë¦­ìŠ¤: íšŒì‹ ë²ˆí˜¸ ê²€ì¦ â€” AI(âœ…), ì§ì ‘(âœ…), í…ŒìŠ¤íŠ¸(-ê¸°ë³¸ë²ˆí˜¸), ìŠ¤íŒ¸(-ê¸°ë³¸ë²ˆí˜¸), ì˜ˆì•½(-) | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ë¯¸ë“±ë¡ ê°œë³„íšŒì‹ ë²ˆí˜¸ë¡œ ë°œì†¡ ì‹œë„ â†’ "ë¯¸ë“±ë¡ íšŒì‹ ë²ˆí˜¸ Nê±´" ì—ëŸ¬ ì°¨ë‹¨ë˜ëŠ”ì§€ | â¬œ |

---

### B8-05: ì¦‰ì‹œ/ì˜ˆì•½ ëª¨ë‘ ë°œì†¡ ì•ˆ ë¨ (ìº˜ë¦°ë” "ì™„ë£Œ"ì¸ë° ì‹¤ì œ ë¯¸ë°œì†¡)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ğŸ”´ Blocker |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” ì§ì ‘ë°œì†¡ |
| **ê¸°ëŒ€ ê²°ê³¼** | ì§ì ‘ë°œì†¡ ì¦‰ì‹œ â†’ ì‹¤ì œ ë‹¨ë§ì— ë¬¸ì ë„ì°© + ìº˜ë¦°ë” "ë°œì†¡ì¤‘" í‘œì‹œ |
| **ì‹¤ì œ ê²°ê³¼** | ìº˜ë¦°ë”ì—ì„œ ì¦‰ì‹œ "ì™„ë£Œ" í‘œì‹œë˜ì§€ë§Œ ì‹¤ì œ ë°œì†¡ ì•ˆ ë¨, ë°œì†¡ê²°ê³¼ëŠ” "ëŒ€ê¸°" |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ |
| **ê·¼ë³¸ ì›ì¸** | â‘  ì§ì ‘ë°œì†¡ ì¦‰ì‹œ ì‹œ ìº í˜ì¸ ìƒíƒœë¥¼ MySQL INSERT ì§í›„ ë°”ë¡œ `completed`ë¡œ ì„¤ì • â†’ QTmsg Agentê°€ ì•„ì§ ì²˜ë¦¬í•˜ì§€ ì•Šì€ ìƒíƒœì¸ë° "ì™„ë£Œ" í‘œì‹œ â‘¡ sendreq_timeì— toKoreaTimeStr() ì‚¬ìš© â†’ KST/UTC ë¶ˆì¼ì¹˜ë¡œ Agentê°€ ë¯¸ë˜ ì‹œê°„ìœ¼ë¡œ ì¸ì‹í•˜ì—¬ ë¯¸ì²˜ë¦¬ (D30 ê²°ì •) |
| **ìˆ˜ì • ë‚´ìš©** | â‘  campaigns.ts /direct-send â€” ì¦‰ì‹œë°œì†¡ ìƒíƒœë¥¼ completedâ†’`sending`ìœ¼ë¡œ ì „í™˜ (L2015, sync-resultsê°€ Agent ì™„ë£Œ í›„ completed ì²˜ë¦¬) â‘¡ sendreq_timeì„ toKoreaTimeStr()â†’MySQL `NOW()` SQL ì§ì ‘ ì‚¬ìš© (L1909, ì¶”ê°€ì„¸ì…˜ì—ì„œ Bulk INSERT ë¶„ê¸° L1947-1960 ì ìš©) |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 1 + ì¶”ê°€ì„¸ì…˜(NOW() Bulk INSERT ë¶„ê¸°) |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | campaigns.ts /direct-send ì¦‰ì‹œë°œì†¡ ì‹œ status='sending' í™•ì¸ (L2015) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | sendreq_timeì´ MySQL NOW() ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸ (L1909 __NOW__ + L1947 ë¶„ê¸°) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | 5ê°œ ê²½ë¡œ ë§¤íŠ¸ë¦­ìŠ¤: sendreq_time NOW() â€” AI(âœ…), ì§ì ‘(âœ…), í…ŒìŠ¤íŠ¸(âœ…), ìŠ¤íŒ¸(âœ…), ì˜ˆì•½(âœ…) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | 5ê°œ ê²½ë¡œ ë§¤íŠ¸ë¦­ìŠ¤: campaign ìƒíƒœ ì •í™•ì„± â€” AI(âœ…), ì§ì ‘(âœ…ìˆ˜ì •sending), ì˜ˆì•½(âœ…) | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ì§ì ‘ë°œì†¡ ì¦‰ì‹œ â†’ ìº˜ë¦°ë”ì—ì„œ "ë°œì†¡ì¤‘"ìœ¼ë¡œ í‘œì‹œë˜ëŠ”ì§€ (ì¦‰ì‹œ "ì™„ë£Œ" ì•„ë‹Œì§€) | â¬œ |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ì§ì ‘ë°œì†¡ ì¦‰ì‹œ â†’ **ì‹¤ì œë¡œ ë‹¨ë§ì— ë¬¸ì ë„ì°©**í•˜ëŠ”ì§€ (NOW() ìˆ˜ì • í™•ì¸) | â¬œ |

---

### B8-06: ì˜ˆì•½ê±´ ë°œì†¡ì¼ì‹œê°€ ë“±ë¡ì¼ì‹œì™€ ë™ì¼í•˜ê²Œ í‘œì‹œ

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ¡ Minor |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” ë°œì†¡ê²°ê³¼ |
| **ê¸°ëŒ€ ê²°ê³¼** | ì˜ˆì•½ ë°œì†¡ í›„ ë°œì†¡ê²°ê³¼ì—ì„œ ì˜ˆì•½ì‹œê°„ì´ ë°œì†¡ì¼ì‹œë¡œ í‘œì‹œ |
| **ì‹¤ì œ ê²°ê³¼** | ì˜ˆì•½ê±´ ë°œì†¡ì¼ì‹œê°€ ë“±ë¡ì¼ì‹œ(ìº í˜ì¸ ìƒì„± ì‹œì )ì™€ ë™ì¼í•˜ê²Œ í‘œì‹œ |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ |
| **ê·¼ë³¸ ì›ì¸** | ì˜ˆì•½ ìº í˜ì¸ ë“±ë¡ ì‹œ sent_atì„ í˜„ì¬ì‹œê°„ìœ¼ë¡œ ì„¤ì •. ì‹¤ì œ ë°œì†¡ ì‹œì ì´ ì•„ë‹Œ ë“±ë¡ ì‹œì ì´ ê¸°ë¡ë¨ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  ì˜ˆì•½ ìº í˜ì¸ ë“±ë¡ ì‹œ sent_at=null ìœ ì§€ (campaign_runs L1084-1091 + campaigns L1095-1103 2ê³³) â‘¡ sync-resultsì—ì„œ ì‹¤ì œ ë°œì†¡ ì™„ë£Œ ì‹œ sent_at ì„¤ì • |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 3 |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | campaigns.ts ì˜ˆì•½ ë“±ë¡ ì‹œ campaigns.sent_at = null í™•ì¸ (L1095 ì¡°ê±´ë¶€) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | campaigns.ts ì˜ˆì•½ ë“±ë¡ ì‹œ campaign_runs.sent_at = null í™•ì¸ (L1084 ì¡°ê±´ë¶€) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | sync-resultsì—ì„œ ë°œì†¡ ì™„ë£Œ ì‹œ sent_at ì—…ë°ì´íŠ¸ ë¡œì§ í™•ì¸ | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ì˜ˆì•½ ë°œì†¡ ë“±ë¡ â†’ ë°œì†¡ê²°ê³¼ì—ì„œ ì˜ˆì•½ì‹œê°„ì´ ë°œì†¡ì¼ì‹œë¡œ í‘œì‹œë˜ëŠ”ì§€ | â¬œ |

---

### B8-07: LMS ì œëª© ë¯¸í‘œì‹œ (ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸/ì˜ˆì•½ ìƒì„¸ë³´ê¸° ëª¨ë‘ ì œëª© ì—†ìŒ)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ Critical |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” ë‹´ë‹¹ì ì‚¬ì „ìˆ˜ì‹ /ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸ |
| **ê¸°ëŒ€ ê²°ê³¼** | LMS ë‹´ë‹¹ì ì‚¬ì „ìˆ˜ì‹  ì‹œ ë‹¨ë§ì—ì„œ ì œëª© í‘œì‹œ |
| **ì‹¤ì œ ê²°ê³¼** | ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸, ì˜ˆì•½ ìƒì„¸ë³´ê¸° ëª¨ë‘ LMS ì œëª©ì´ ì—†ìŒ |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ (D28 ì œëª© ë¨¸ì§€ ì œê±°ì™€ ì—°ê´€) |
| **ê·¼ë³¸ ì›ì¸** | â‘  test-send MySQL INSERTì— title_str ì»¬ëŸ¼ì´ ëˆ„ë½ë˜ì–´ ì œëª© ë¯¸ì „ë‹¬ â‘¡ Dashboard.tsx handleTestSendì—ì„œ subjectë¥¼ APIì— ì „ë‹¬í•˜ì§€ ì•ŠìŒ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  campaigns.ts /test-send INSERTì— title_str ì»¬ëŸ¼ ì¶”ê°€ (L653-659) â‘¡ Dashboard.tsx handleTestSend API í˜¸ì¶œì— `subject: selectedMsg.subject` ì¶”ê°€ (L1598) |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts, Dashboard.tsx |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 1 + ì¶”ê°€ì„¸ì…˜ |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | campaigns.ts /test-send INSERT ì¿¼ë¦¬ì— title_str ì»¬ëŸ¼ ì¡´ì¬ í™•ì¸ (L657) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | Dashboard.tsx handleTestSendì—ì„œ subject íŒŒë¼ë¯¸í„° ì „ë‹¬ í™•ì¸ (L1598) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | 5ê°œ ê²½ë¡œ ë§¤íŠ¸ë¦­ìŠ¤: title_str â€” AI(âœ…L1058), ì§ì ‘(âœ…L1952), í…ŒìŠ¤íŠ¸(âœ…L657), ìŠ¤íŒ¸(âœ…ë³„ë„), ì˜ˆì•½(âœ…L2528) | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ë‹´ë‹¹ì ì‚¬ì „ìˆ˜ì‹ (LMS) â†’ ë‹¨ë§ì—ì„œ ì œëª© í‘œì‹œë˜ëŠ”ì§€ | â¬œ |

---

### B8-08: ìº í˜ì¸ í™•ì • ì•Œë¦¼ì°½ ëŒ€ìƒ 0ëª… + ì±„ë„íƒ€ì… ë¬´ì¡°ê±´ SMS

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” ë°œì†¡ í™•ì • ëª¨ë‹¬ + ì„±ê³µ ëª¨ë‹¬ |
| **ê¸°ëŒ€ ê²°ê³¼** | í™•ì • ì•Œë¦¼ì— ì •í™•í•œ ëŒ€ìƒ ì¸ì›ìˆ˜ + ì‹¤ì œ ì±„ë„íƒ€ì…(SMS/LMS/ì¹´ì¹´ì˜¤) í‘œì‹œ |
| **ì‹¤ì œ ê²°ê³¼** | ëŒ€ìƒ 0ëª… + ì±„ë„íƒ€ì…ì´ ë¬´ì¡°ê±´ SMSë¡œ ê³ ì • |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ |
| **ê·¼ë³¸ ì›ì¸** | â‘  setSendConfirm í˜¸ì¶œ ì‹œ msgTypeì„ í•˜ë“œì½”ë”©ìœ¼ë¡œ ì „ë‹¬ â‘¡ SendConfirmModalì´ directMsgType propì— ì˜ì¡´í•˜ì—¬ target ë°œì†¡ ì‹œ ë¬´ì‹œ â‘¢ ì„±ê³µëª¨ë‹¬(CampaignSuccessModal)ì— ì •í™•í•œ count/channel ë¯¸ì „ë‹¬ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  SendConfirmModal.tsx â€” directMsgType prop ì œê±°â†’sendConfirm.msgType ì‚¬ìš© â‘¡ Dashboard.tsx â€” successChannel + successTargetCount + successUnsubscribeCount state ì¶”ê°€. AIí•œì¤„ë¡œ(L1442-1446)/ë§ì¶¤í•œì¤„(L1541-1546) ê°ê° ë°œì†¡ ì§ì „ ì˜¬ë°”ë¥¸ ê°’ ì €ì¥ â‘¢ CampaignSuccessModal.tsx â€” overrideTargetCount + overrideUnsubscribeCount prop ìˆ˜ìš©, displayCount/displayUnsub ìš°ì„ ìˆœìœ„ ì ìš©, ì˜ˆìœ ëª¨ë‹¬ ê·œê²©(animate-fadeIn/zoomIn/max-w-sm) ì ìš© |
| **ìˆ˜ì • íŒŒì¼** | SendConfirmModal.tsx, Dashboard.tsx, CampaignSuccessModal.tsx |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 3 + ì¶”ê°€ì„¸ì…˜ + 2ì°¨ ì „ìˆ˜ì ê²€ ì„¸ì…˜ |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | SendConfirmModal.tsxì—ì„œ directMsgType prop ì œê±° + sendConfirm.msgType ì‚¬ìš© í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | Dashboard.tsx 4ê³³ setSendConfirm í˜¸ì¶œì— msgType ë™ì  ì „ë‹¬ í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | Dashboard.tsx successChannel + successTargetCount + successUnsubscribeCount state í™•ì¸ (L145-147) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | CampaignSuccessModal.tsx overrideTargetCount + overrideUnsubscribeCount prop ìˆ˜ìš© + displayCount/displayUnsub ìš°ì„ ìˆœìœ„ í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | Dashboard.tsx ëª¨ë‹¬ í˜¸ì¶œë¶€ overrideTargetCount + overrideUnsubscribeCount prop ì „ë‹¬ í™•ì¸ (L2464-2465) | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | AIí•œì¤„ë¡œ/ë§ì¶¤í•œì¤„ ë°œì†¡ ì™„ë£Œ â†’ ì„±ê³µëª¨ë‹¬ì—ì„œ ì •í™•í•œ ì±„ë„+ì¸ì›ìˆ˜+ìˆ˜ì‹ ê±°ë¶€ í‘œì‹œë˜ëŠ”ì§€ | â¬œ |

---

### B8-09: AI ë¯¸ë¦¬ë³´ê¸°ì—ì„œ SMS 90ë°”ì´íŠ¸ ì´ˆê³¼ ìˆ˜ì • ê°€ëŠ¥ + AIê°€ ì´ˆê³¼ ì¶”ì²œ

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” AI ë¬¸ì•ˆ ë¯¸ë¦¬ë³´ê¸°/í¸ì§‘ |
| **ê¸°ëŒ€ ê²°ê³¼** | SMS 90ë°”ì´íŠ¸ ì´ˆê³¼ ì‹œ ê²½ê³ /ì°¨ë‹¨ + AI ì¶”ì²œ ë¬¸ì•ˆë„ 90ë°”ì´íŠ¸ ì´ë‚´ |
| **ì‹¤ì œ ê²°ê³¼** | AI ë¯¸ë¦¬ë³´ê¸°ì—ì„œ í¸ì§‘ ì‹œ ë°”ì´íŠ¸ ì œí•œ ì—†ì´ ì´ˆê³¼ ê°€ëŠ¥. AIê°€ ì´ˆê³¼ ë¬¸ì•ˆ ì¶”ì²œí•˜ê¸°ë„ í•¨ |
| **ì¬ë°œ ì—¬ë¶€** | âš ï¸ 6ì°¨#4 "SMS ë°”ì´íŠ¸ ì²´í¬ ì™„ë£Œ" í›„ ì¬ë°œ â€” ì§ì ‘ë°œì†¡ë§Œ ì ìš©, AI ë¯¸ë¦¬ë³´ê¸° ì»´í¬ë„ŒíŠ¸ ëˆ„ë½ |
| **ê·¼ë³¸ ì›ì¸** | â‘  AI í•œì¤„ë¡œ variant í›„ì²˜ë¦¬ì— ë°”ì´íŠ¸ ì²´í¬ ì—†ìŒ (ê´‘ê³  ì˜¤ë²„í—¤ë“œ ë¯¸ë°˜ì˜) â‘¡ AiCustomSendFlow í¸ì§‘ ì™„ë£Œ ì‹œ ë°”ì´íŠ¸ ê²€ì¦ ì—†ìŒ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  services/ai.ts â€” AI í•œì¤„ë¡œ variant í›„ì²˜ë¦¬ì— ë°”ì´íŠ¸ ì²´í¬ ì¶”ê°€(L557-565, ê´‘ê³  ì˜¤ë²„í—¤ë“œ í¬í•¨ 90ë°”ì´íŠ¸ ì´ˆê³¼ ì‹œ ê²½ê³ ) + ë§ì¶¤í•œì¤„(L1278-1286) â‘¡ AiCustomSendFlow.tsx â€” "ìˆ˜ì • ì™„ë£Œ" ë²„íŠ¼ í´ë¦­ ì‹œ SMS ë°”ì´íŠ¸ ì´ˆê³¼ confirm ê²½ê³ (L670-674) + ë°œì†¡ ì‹œ ì°¨ë‹¨(L741-745) |
| **ìˆ˜ì • íŒŒì¼** | services/ai.ts, AiCustomSendFlow.tsx |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 2 + ì¶”ê°€ì„¸ì…˜ |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | services/ai.ts AI í•œì¤„ë¡œ variantì— calculateKoreanBytes ì²´í¬ í™•ì¸ (L557-565) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | services/ai.ts AI ë§ì¶¤í•œì¤„ variantì—ë„ ë™ì¼ ì²´í¬ í™•ì¸ (L1278-1286) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | AiCustomSendFlow.tsx "ìˆ˜ì • ì™„ë£Œ" ë²„íŠ¼ì— SMS ë°”ì´íŠ¸ ì´ˆê³¼ ê²½ê³  í™•ì¸ (L670-674) | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | AI ë§ì¶¤í•œì¤„ SMS â†’ í¸ì§‘ìœ¼ë¡œ 90ë°”ì´íŠ¸ ì´ˆê³¼ â†’ "ìˆ˜ì • ì™„ë£Œ" ì‹œ ê²½ê³  ëœ¨ëŠ”ì§€ | â¬œ |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | AI ì¶”ì²œ ë¬¸ì•ˆì´ 90ë°”ì´íŠ¸(ê´‘ê³  ì˜¤ë²„í—¤ë“œ í¬í•¨) ì´ë‚´ì¸ì§€ | â¬œ |

---

### B8-10: DB ì—…ë¡œë“œ ì‹œ Excel ë‚ ì§œê°€ ì‹œë¦¬ì–¼ë„˜ë²„(34786)ë¡œ ì¸ì‹

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ¡ Minor |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” ê³ ê° DB ì—…ë¡œë“œ |
| **ê¸°ëŒ€ ê²°ê³¼** | Excel ë‚ ì§œ(1995-03-03)ê°€ ì •ìƒ ë‚ ì§œ í˜•ì‹ìœ¼ë¡œ íŒŒì‹± |
| **ì‹¤ì œ ê²°ê³¼** | ì‹œë¦¬ì–¼ë„˜ë²„(34786 ë“±)ë¡œ ì¸ì‹ë˜ì–´ DBì— ì˜ëª» ì €ì¥ |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ |
| **ê·¼ë³¸ ì›ì¸** | Excelì€ ë‚ ì§œë¥¼ ë‚´ë¶€ì ìœ¼ë¡œ ì‹œë¦¬ì–¼ë„˜ë²„(1900-01-01 ê¸°ì¤€ ì¼ìˆ˜)ë¡œ ì €ì¥. íŒŒì‹± ì‹œ ìˆ«ì ê·¸ëŒ€ë¡œ ì €ì¥ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  upload.ts â€” excelSerialToDateStr(serialâ†’YYYY-MM-DD) ìœ í‹¸ í•¨ìˆ˜ ì¶”ê°€ (L11-19) â‘¡ normalizeDateValue(ì‹œë¦¬ì–¼/YYYYMMDD/YYYY-MM-DD/YYYY/MM/DD í†µí•©) ìœ í‹¸ í•¨ìˆ˜ ì¶”ê°€ (L22-36) â‘¢ birth_date + last_purchase_date í•„ë“œì— ì ìš© |
| **ìˆ˜ì • íŒŒì¼** | upload.ts |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 3 |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | upload.ts excelSerialToDateStr() í•¨ìˆ˜ ì¡´ì¬ + ì •í™•í•œ ë³€í™˜ ë¡œì§ í™•ì¸ (L11-19) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | normalizeDateValue()ê°€ ì‹œë¦¬ì–¼/YYYYMMDD/YYYY-MM-DD/YYYY/MM/DD ì „ë¶€ ì²˜ë¦¬í•˜ëŠ”ì§€ í™•ì¸ (L22-36) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | birth_date + last_purchase_date í•„ë“œì— normalizeDateValue ì ìš© í™•ì¸ (L411, L426) | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ì—‘ì…€ ì—…ë¡œë“œ â†’ ë‚ ì§œ ì»¬ëŸ¼ì´ "2024-03-15" í˜•ì‹ìœ¼ë¡œ ì •ìƒ íŒŒì‹±ë˜ëŠ”ì§€ | â¬œ |

---

### B8-11: AI ë§ì¶¤í•œì¤„ì—ì„œ ìš”ì²­ ì•ˆ í•œ ë³€ìˆ˜(ì—°ë ¹ëŒ€, ì„±ë³„) í˜¼ì…

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” AI ë§ì¶¤í•œì¤„ |
| **ê¸°ëŒ€ ê²°ê³¼** | ì‚¬ìš©ìê°€ ì„ íƒí•œ ë³€ìˆ˜ë§Œ ë¬¸ì•ˆì— í¬í•¨ |
| **ì‹¤ì œ ê²°ê³¼** | ì²´í¬í•˜ì§€ ì•Šì€ ë³€ìˆ˜(ì—°ë ¹ëŒ€, ì„±ë³„ ë“±)ê°€ AI ë¬¸ì•ˆì— í˜¼ì… |
| **ì¬ë°œ ì—¬ë¶€** | âš ï¸ 6ì°¨#1 "ë³€ìˆ˜ strip ì™„ë£Œ" í›„ ì¬ë°œ â€” strip ë¡œì§ ë˜ëŠ” í”„ë¡¬í”„íŠ¸ ëˆ„ìˆ˜ |
| **ê·¼ë³¸ ì›ì¸** | ê°œì¸í™” ëª¨ë“œì—ì„œ ì‚¬ìš©ìê°€ ì„ íƒí•œ personalizationVarsê°€ ì•„ë‹Œ ì „ì²´ availableVarsë¥¼ í”„ë¡¬í”„íŠ¸ì— ì „ë‹¬ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  services/ai.ts â€” AI í•œì¤„ë¡œ: ê°œì¸í™” ëª¨ë“œ ì‹œ personalizationVarsë§Œ í—ˆìš© + strip ì´ì¤‘ ë°©ì–´ (L540-554) â‘¡ AI ë§ì¶¤í•œì¤„: validatePersonalizationVars() + ë¯¸í—ˆìš© ë³€ìˆ˜ ì œê±° (L1263-1271) |
| **ìˆ˜ì • íŒŒì¼** | services/ai.ts |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 2 |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | services/ai.ts AI í•œì¤„ë¡œ: ê°œì¸í™” ëª¨ë“œì—ì„œ personalizationVarsë§Œ í”„ë¡¬í”„íŠ¸ì— ì „ë‹¬ + strip í™•ì¸ (L540-554) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | services/ai.ts AI ë§ì¶¤í•œì¤„: validatePersonalizationVars() + ë¯¸í—ˆìš© ë³€ìˆ˜ ì œê±° í™•ì¸ (L1263-1271) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | AI í•œì¤„ë¡œ + AI ë§ì¶¤í•œì¤„ ì–‘ìª½ ëª¨ë‘ ë™ì¼ ë¡œì§ ì ìš© í™•ì¸ | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | AI ë§ì¶¤í•œì¤„ â†’ ì„ íƒ ì•ˆ í•œ ë³€ìˆ˜ê°€ ë¬¸ì•ˆì— í˜¼ì…ë˜ì§€ ì•ŠëŠ”ì§€ | â¬œ |

---

### B8-12: ì˜ˆì•½ ìƒì„¸ë³´ê¸°ì—ì„œ ì„ íƒí•œ ë¬¸ì•ˆê³¼ ì „í˜€ ë‹¤ë¥¸ ë¬¸ì•ˆ ì €ì¥ë¨

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ğŸ”´ Blocker |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | hanjul.ai â€” AI í•œì¤„ë¡œ ìº í˜ì¸ í™•ì • |
| **ê¸°ëŒ€ ê²°ê³¼** | 2ë²ˆì§¸ ë¬¸ì•ˆ ì„ íƒ â†’ í™•ì • â†’ ìº˜ë¦°ë” ìƒì„¸ì—ì„œ 2ë²ˆì§¸ ë¬¸ì•ˆ í‘œì‹œ |
| **ì‹¤ì œ ê²°ê³¼** | ì„ íƒí•œ ë¬¸ì•ˆê³¼ ì „í˜€ ë‹¤ë¥¸ ë¬¸ì•ˆ(ì£¼ë¡œ 1ë²ˆì§¸)ì´ ì €ì¥ë¨ |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ |
| **ê·¼ë³¸ ì›ì¸** | AiCampaignResultPopup.tsxì—ì„œ ë¼ë””ì˜¤ ë²„íŠ¼ì´ `defaultChecked`(ë¹„ì œì–´ ì»´í¬ë„ŒíŠ¸) ì‚¬ìš©. React ë¦¬ë Œë”ë§ ì‹œ ì„ íƒ ìƒíƒœê°€ DOMì—ë§Œ ì¡´ì¬í•˜ê³  stateì— ë¯¸ë°˜ì˜. ë˜í•œ ë¬¸ì•ˆ ì¬ìƒì„± ì‹œ selectedIdxê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•„ ì´ì „ ì¸ë±ìŠ¤ ìœ ì§€ (R13) |
| **ìˆ˜ì • ë‚´ìš©** | â‘  AiCampaignResultPopup.tsx â€” defaultCheckedâ†’`checked` ì œì–´ ì»´í¬ë„ŒíŠ¸ ì „í™˜ (L196) â‘¡ Dashboard.tsx â€” ì¬ìƒì„± ì‹œ setSelectedAiMsgIdx(0) ì´ˆê¸°í™” (L1230) â‘¢ campaigns.ts â€” message_template í•„ë“œì— ì‹¤ì œ ì„ íƒëœ ë¬¸ì•ˆ INSERT (L754) |
| **ìˆ˜ì • íŒŒì¼** | AiCampaignResultPopup.tsx, Dashboard.tsx, campaigns.ts |
| **ìˆ˜ì • ì„¸ì…˜** | ì„¸ì…˜ 1 + 2ì°¨ ì „ìˆ˜ì ê²€ ì„¸ì…˜(ì¸ë±ìŠ¤ ì´ˆê¸°í™” ë³´ì™„) |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | AiCampaignResultPopup.tsx ë¼ë””ì˜¤ ë²„íŠ¼ì´ checked(ì œì–´ ì»´í¬ë„ŒíŠ¸)ì¸ì§€ í™•ì¸ (L196) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | Dashboard.tsx ë¬¸ì•ˆ ì¬ìƒì„± ì‹œ setSelectedAiMsgIdx(0) í™•ì¸ (L1230) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | campaigns.ts /:id/send INSERTì— message_template í•„ë“œ í¬í•¨ í™•ì¸ (L754) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | 5ê°œ ê²½ë¡œ ë§¤íŠ¸ë¦­ìŠ¤: ì„ íƒ ë¬¸ì•ˆ = ì‹¤ì œ INSERT ë¬¸ì•ˆ â€” AI(âœ…), ì§ì ‘(âœ…), í…ŒìŠ¤íŠ¸(âœ…) | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | AI í•œì¤„ë¡œ â†’ 2ë²ˆì§¸ ë¬¸ì•ˆ ì„ íƒ â†’ í™•ì • â†’ ìº˜ë¦°ë” ìƒì„¸ì—ì„œ 2ë²ˆì§¸ ë¬¸ì•ˆ ë§ëŠ”ì§€ | â¬œ |

---

## 3) ğŸš¨ êµ¬ì¡°ì  ê²°í•¨ â€” ë°œì†¡ íŒŒì´í”„ë¼ì¸ (9ì°¨, 2026-02-26 ë°œê²¬)

> **ë°œê²¬ ê²½ìœ„:** 8ì°¨ ì „ìˆ˜ì ê²€ "1ë‹¨ê³„ í†µê³¼" ë³´ê³  í›„, ì‹¤ë™ì‘ í™•ì¸ ê³¼ì •ì—ì„œ ìŠ¤íŒ¸í•„í„° ì¹˜í™˜ ì¬ë°œ â†’ ì‹¬ì¸µ ë¶„ì„ ê²°ê³¼ êµ¬ì¡°ì  ê²°í•¨ 7ê±´ ì¶”ê°€ ë°œê²¬
> **ê·¼ë³¸ ì›ì¸:** ë°œì†¡ 5ê°œ ê²½ë¡œ(`/:id/send`, `/direct-send`, `/test-send`, `spam-filter/test`, ì˜ˆì•½)ì— ë³€ìˆ˜ ì¹˜í™˜ ë¡œì§ì´ ê°ê° ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë¶„ì‚° êµ¬í˜„ë˜ì–´ ìˆìŒ. í•œ ê³³ ìˆ˜ì •í•˜ë©´ ë‚˜ë¨¸ì§€ 4ê³³ì—ì„œ ì¬ë°œí•˜ëŠ” êµ¬ì¡°.
> **í•´ê²° ì „ëµ:** ê³µí†µ ì¹˜í™˜ í•¨ìˆ˜ `replaceVariables()` í•˜ë‚˜ë¡œ 5ê°œ ê²½ë¡œ í†µí•© (D32)
> **GPT í¬ë¡œìŠ¤ì²´í¬:** (1)(2)(3)(5) ë™ì¼ ì§€ì  + (4) results.ts ì„±ëŠ¥ ë³‘ëª© ì¶”ê°€ í™•ì¸. GPTê°€ ëª» ì¡ì€ ê²ƒ: sent_at ê²½ìŸ ì¡°ê±´, ê³µí†µ í•¨ìˆ˜ í†µí•© í•´ê²°ì±…
> **í˜„ì¬ ìƒíƒœ:** S9-01/03 âœ… ì½”ë“œí™•ì¸, S9-04 ğŸŸ¡ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸°, S9-05/06 âœ… Closed. S9-02 ğŸŸ¡ë¶€ë¶„(í”„ë¡ íŠ¸ë¯¸ë¦¬ë³´ê¸°). S9-07 ğŸ”µ Open. S9-08 ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸°

---

### S9-01: ì§ì ‘íƒ€ê²Ÿë°œì†¡ ê°œì¸í™” ì™„ì „ ê¹¨ì§ (customMessages ë¬´ì‹œ)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ Critical |
| **ìƒíƒœ** | âœ… ì½”ë“œ í™•ì¸ë¨ (2026-02-26 ì‹¤ë¬¼ ê²€ì¦: L1773-1781 Map êµ¬ì„± â†’ L1940-1958 SMS + L2043-2058 ì¹´ì¹´ì˜¤ ì–‘ìª½ customMessages ì ìš©) |
| **ë„ë©”ì¸** | hanjul.ai â€” ì§ì ‘íƒ€ê²Ÿë°œì†¡ |
| **ê¸°ëŒ€ ê²°ê³¼** | í”„ë¡ íŠ¸ì—ì„œ ìˆ˜ì‹ ìë³„ ì¹˜í™˜ ì™„ë£Œëœ customMessagesë¥¼ ë°±ì—”ë“œê°€ ìˆ˜ìš©í•˜ì—¬ ë°œì†¡ |
| **ì‹¤ì œ ê²°ê³¼** | ë°±ì—”ë“œ /direct-sendê°€ customMessagesë¥¼ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ. ë¹ˆê°’ìœ¼ë¡œ ìì²´ ì¹˜í™˜ â†’ ê°œì¸í™” ê¹¨ì§ |
| **ê·¼ë³¸ ì›ì¸** | í”„ë¡ íŠ¸ëŠ” `recipients: {name:'', var1..}` í˜•íƒœë¡œ ë³´ë‚´ê³ , ë°±ì—”ë“œëŠ” `{name, extra1..3}`ë¥¼ ì¹˜í™˜. customMessages ë°°ì—´ ìì²´ê°€ ë¬´ì‹œë¨ |
| **ìˆ˜ì • ë‚´ìš©** | â‘  campaigns.ts `/direct-send`ì— `customMessages: [{phone, message}]` req.body ìˆ˜ìš© ì¶”ê°€. â‘¡ customMessageMap(Map<phone,message>) êµ¬ì„± â†’ SMS+ì¹´ì¹´ì˜¤ ì–‘ìª½ì—ì„œ customMessages ìˆìœ¼ë©´ í”„ë¡ íŠ¸ ì¹˜í™˜ê°’ ê·¸ëŒ€ë¡œ INSERT, ì—†ìœ¼ë©´ replaceVariables() ì„œë²„ ì¹˜í™˜ í´ë°± |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts |
| **Haroldë‹˜ ì»¨íŒ** | âœ… í”„ë¡ íŠ¸ ì¹˜í™˜ ìœ ì§€ + ë°±ì—”ë“œê°€ customMessages ìˆ˜ìš©í•˜ëŠ” ë°©í–¥ í™•ì • |

---

### S9-02: AIí•œì¤„ë¡œ ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ â€” í•˜ë“œì½”ë”© ìƒ˜í”Œë¡œ ì¹˜í™˜ (ì‹¤ì œ ê³ ê° ë°ì´í„° ë¯¸ì‚¬ìš©)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ Critical |
| **ìƒíƒœ** | ğŸŸ¡ ë¶€ë¶„ìˆ˜ì • (ì„œë²„: DB ì§ì ‘ ì¡°íšŒ+replaceVariables ì •ìƒ í™•ì¸. í”„ë¡ íŠ¸ ë¯¸ë¦¬ë³´ê¸°: Dashboard.tsx ë¯¸ê²€ì¦) |
| **ë„ë©”ì¸** | hanjul.ai â€” ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ |
| **ê¸°ëŒ€ ê²°ê³¼** | ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ ì‹œ ì‹¤ì œ ë°œì†¡ ëŒ€ìƒ ì²« ë²ˆì§¸ ê³ ê° ë°ì´í„°ë¡œ ì¹˜í™˜ í›„ í…ŒìŠ¤íŠ¸ |
| **ì‹¤ì œ ê²°ê³¼** | applySampleVars()ê°€ "ê¹€ë¯¼ìˆ˜/VIP/ê°•ë‚¨ì " í•˜ë“œì½”ë”© ìƒ˜í”Œ ì‚¬ìš©. ì‹¤ì œ ë°œì†¡ë  ë¬¸ì•ˆê³¼ ë‹¤ë¥¸ ë‚´ìš©ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ |
| **ê·¼ë³¸ ì›ì¸** | Haroldë‹˜ì´ "ë§¨ ìœ„ ê³ ê° ë°ì´í„°ë¡œ í…ŒìŠ¤íŠ¸í•˜ë¼"ê³  ì—¬ëŸ¬ ì°¨ë¡€ ì§€ì‹œí–ˆìœ¼ë‚˜ ë¯¸ë°˜ì˜. í”„ë¡ íŠ¸ ì˜ì¡´ êµ¬ì¡° ìì²´ê°€ ë¬¸ì œ |
| **ìˆ˜ì • ë‚´ìš© (ìˆ˜ì • ì „â†’í›„)** | **[ìˆ˜ì • ì „]** â‘  applySampleVars() í•˜ë“œì½”ë”©("ê¹€ë¯¼ìˆ˜/VIP/ê°•ë‚¨ì "), â‘¡ í”„ë¡ íŠ¸ Dashboard.tsxì—ì„œ `%ì´ë¦„%â†’'ê³ ê°'`, `%ë“±ê¸‰%â†’'VIP'` ë“± 14ì¤„ í•˜ë“œì½”ë”© ì¹˜í™˜ í›„ ì„œë²„ì— ì „ë‹¬, â‘¢ spam-filter.tsê°€ í”„ë¡ íŠ¸ì—ì„œ ë°›ì€ firstCustomerData(ë¹ˆ ê°ì²´)ë¡œ ì¹˜í™˜ ì‹œë„â†’ì‹¤íŒ¨ **[ìˆ˜ì • í›„]** â‘  applySampleVars() ì „ëŸ‰ ì‚­ì œ, â‘¡ í”„ë¡ íŠ¸ í•˜ë“œì½”ë”© ì¹˜í™˜ 14ì¤„ ì „ëŸ‰ ì‚­ì œâ†’ì›ë³¸ ë©”ì‹œì§€ ê·¸ëŒ€ë¡œ ì„œë²„ ì „ë‹¬, â‘¢ spam-filter.tsê°€ DBì—ì„œ ì§ì ‘ `SELECT ... FROM customers WHERE company_id=$1 AND is_active=true AND sms_opt_in=true ORDER BY created_at DESC LIMIT 1` ì¡°íšŒí•˜ì—¬ ì‹¤ì œ ê³ ê° ë°ì´í„°ë¡œ ì¹˜í™˜, â‘£ test-sendë„ ë™ì¼í•˜ê²Œ DB ì§ì ‘ ì¡°íšŒ ì „í™˜ |
| **ìˆ˜ì • íŒŒì¼** | spam-filter.ts, campaigns.ts, Dashboard.tsx |

---

### S9-03: buildFilterQuery ë‚˜ì´ ê³„ì‚° 2026 í•˜ë“œì½”ë”©

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major |
| **ìƒíƒœ** | âœ… ì½”ë“œ í™•ì¸ë¨ (2026-02-26 ì‹¤ë¬¼ ê²€ì¦: L1188,1190,1197,1203 ì „ë¶€ EXTRACT(YEAR FROM CURRENT_DATE AT TIME ZONE 'Asia/Seoul')) |
| **ë„ë©”ì¸** | ë°±ì—”ë“œ â€” íƒ€ê²Ÿ ì¶”ì¶œ í•„í„° |
| **ê¸°ëŒ€ ê²°ê³¼** | ë‚˜ì´ í•„í„°ê°€ í˜„ì¬ ì—°ë„ ê¸°ì¤€ìœ¼ë¡œ ë™ì  ê³„ì‚° |
| **ì‹¤ì œ ê²°ê³¼** | `AND (2026 - birth_year)` í•˜ë“œì½”ë”© â†’ 2027ë…„ë¶€í„° í•„í„° ì˜¤ì‘ë™ |
| **ê·¼ë³¸ ì›ì¸** | í•˜ë“œì½”ë”©. SQLì—ì„œ `EXTRACT(YEAR FROM CURRENT_DATE AT TIME ZONE 'Asia/Seoul')` ì‚¬ìš©í•´ì•¼ í•¨ |
| **ìˆ˜ì • ë‚´ìš©** | campaigns.ts ë‚´ `(2026 - birth_year)` 4ê³³ ì „ë¶€ `(EXTRACT(YEAR FROM CURRENT_DATE AT TIME ZONE 'Asia/Seoul') - birth_year)` êµì²´. í•˜ë“œì½”ë”© ì”ì¡´ 0ê±´ í™•ì¸ |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts |

---

### S9-04: sent_at ê²½ìŸ ì¡°ê±´ â€” ë°œì†¡ ì™„ë£Œ ì „ì— "ì™„ë£Œ" í‘œì‹œ

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | ë°±ì—”ë“œ â€” ë°œì†¡ê²°ê³¼ í‘œì‹œ |
| **ê¸°ëŒ€ ê²°ê³¼** | ë°œì†¡ê²°ê³¼ì—ì„œ ì‹¤ì œ ë°œì†¡ ì‹œì‘ ì‹œì ì´ í‘œì‹œ (ì¦‰ì‹œ=í´ë¦­ì‹œì , ì˜ˆì•½=scheduled_at) |
| **ì‹¤ì œ ê²°ê³¼** | â‘  ì˜ˆì•½ë°œì†¡ sent_at=NULL ì˜êµ¬ ê³ ì°©, â‘¡ ì§ì ‘ ì˜ˆì•½ê±´ sync-results WHERE ëˆ„ë½ â†’ ìº˜ë¦°ë” ì—´ì–´ì•¼ë§Œ ì²˜ë¦¬, â‘¢ ì¸ë¼ì¸ syncì—ì„œ ë¬´ì¡°ê±´ NOW() â†’ ì‚¬ìš©ìê°€ ì¡°íšŒí•œ ì‹œì ì´ sent_atì— ì°í˜ |
| **ê·¼ë³¸ ì›ì¸** | â‘  sync-resultsì—ì„œ completed ì „í™˜ ì‹œ sent_at ì—…ë°ì´íŠ¸ ì—†ìŒ, â‘¡ sync-results ì§ì ‘ë°œì†¡ WHEREì— status='scheduled' ë¯¸í¬í•¨, â‘¢ ì¸ë¼ì¸ syncì—ì„œ sent_at=NOW() ë¬´ì¡°ê±´ ë®ì–´ì“°ê¸° |
| **ìˆ˜ì • ë‚´ìš©** | campaigns.ts 5ê³³ ìˆ˜ì •: â‘  sync-results campaign_runs(L1616) completed ì‹œ sent_at=COALESCE(sent_at,scheduled_at,NOW()), â‘¡ sync-results campaigns AI(L1628) ë™ì¼, â‘¢ sync-results campaigns ì§ì ‘(L1684) ë™ì¼, â‘£ ì¸ë¼ì¸ sync(L485) sent_at=COALESCE(sent_at,scheduled_at,NOW()), â‘¤ sync-results ì§ì ‘ë°œì†¡ WHERE(L1660) scheduled ì¡°ê±´+ì˜ˆì•½ì‹œê°„ ê²½ê³¼ ì²´í¬ ì¶”ê°€ |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | sync-results campaign_runs(L1616) completed ì‹œ COALESCE(sent_at,scheduled_at,NOW()) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | sync-results campaigns AI(L1628) ë™ì¼ íŒ¨í„´ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | sync-results campaigns ì§ì ‘(L1684) ë™ì¼ íŒ¨í„´ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | ì¸ë¼ì¸ sync(L485) COALESCE(sent_at,scheduled_at,NOW()) | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | sync-results ì§ì ‘ë°œì†¡ WHERE(L1660) scheduled+ì‹œê°„ê²½ê³¼ ì¡°ê±´ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | ì‹œë‚˜ë¦¬ì˜¤ ì‹œë®¬ë ˆì´ì…˜: AIì¦‰ì‹œâ†’sent_at=í´ë¦­ì‹œì  ìœ ì§€ âœ…, AIì˜ˆì•½â†’scheduled_at âœ…, ì§ì ‘ì¦‰ì‹œâ†’ìœ ì§€ âœ…, ì§ì ‘ì˜ˆì•½â†’scheduled_at âœ… | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ì¦‰ì‹œë°œì†¡ â†’ ë°œì†¡ê²°ê³¼ì—ì„œ í´ë¦­ ì‹œì ì´ ë°œì†¡ì¼ì‹œë¡œ í‘œì‹œ | â¬œ |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ì˜ˆì•½ë°œì†¡ â†’ ë°œì†¡ê²°ê³¼ì—ì„œ ì˜ˆì•½ ì‹œê°„ì´ ë°œì†¡ì¼ì‹œë¡œ í‘œì‹œ | â¬œ |

---

### S9-05: ai.ts í”„ë¡¬í”„íŠ¸ ìŠ¤í‚¤ë§ˆì— subject í‚¤ 2ë²ˆ ì¡´ì¬

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ¡ Minor |
| **ìƒíƒœ** | âœ… Closed (ì´ì „ ì±„íŒ…ì—ì„œ ai.ts ë³„ë„ ì œê³µ, ìˆ˜ì • í™•ì¸) |

---

### S9-06: ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ ë¼ì¸ ì„ íƒì´ campaigns.tsì™€ ë‹¤ë¦„

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ¡ Minor |
| **ìƒíƒœ** | âœ… Closed (í˜„ìƒ ì•„ë‹˜) |
| **ë„ë©”ì¸** | ë°±ì—”ë“œ â€” ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ |
| **ê¸°ëŒ€ ê²°ê³¼** | ìŠ¤íŒ¸í•„í„° í…ŒìŠ¤íŠ¸ì™€ ì‹¤ì œ ë°œì†¡ì´ ë™ì¼í•œ ë¼ì¸ ì„ íƒ ë¡œì§ ì‚¬ìš© |
| **ì‹¤ì œ ê²°ê³¼** | campaigns.tsëŠ” DB sms_line_groups ê¸°ë°˜, spam-filter.tsëŠ” í™˜ê²½ë³€ìˆ˜ SMSQ_SEND_10 ê³ ì • |
| **ê·¼ë³¸ ì›ì¸** | ë‘ íŒŒì¼ì´ ë…ë¦½ì ìœ¼ë¡œ ë¼ì¸ ì„ íƒ ë¡œì§ì„ êµ¬í˜„ |
| **ì¢…ê²° ì‚¬ìœ ** | Haroldë‹˜ í™•ì¸: í…ŒìŠ¤íŠ¸ 10ë²ˆ, ë‹´ë‹¹ì 11ë²ˆ ê³ ì •ì€ ì •ìƒ ìš´ì˜ êµ¬ì¡°. ìŠ¤íŒ¸í•„í„°ëŠ” í…ŒìŠ¤íŠ¸ ì „ìš© ë¼ì¸(10ë²ˆ) ì‚¬ìš©ì´ ë§ìŒ |

---

### S9-07: AiCustomSendFlow.tsx alert/confirm ì‚¬ìš© (ì»¤ìŠ¤í…€ ëª¨ë‹¬ ë¯¸ì ìš©)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ¡ Minor (UI) |
| **ìƒíƒœ** | ğŸ”µ Open |
| **ë„ë©”ì¸** | hanjul.ai â€” AI ë§ì¶¤í•œì¤„ |
| **ê¸°ëŒ€ ê²°ê³¼** | ëª¨ë“  confirm/alertê°€ ì˜ˆìœ ì»¤ìŠ¤í…€ ëª¨ë‹¬ (ë©”ëª¨ë¦¬ #4/#8) |
| **ì‹¤ì œ ê²°ê³¼** | L674 confirm(), L745 alert() â€” ê¸°ë³¸ ë¸Œë¼ìš°ì € ëª¨ë‹¬ ì‚¬ìš© |
| **ê·¼ë³¸ ì›ì¸** | ì»¤ìŠ¤í…€ ëª¨ë‹¬ êµì²´ ëˆ„ë½ |
| **í•´ê²° ë°©í–¥** | animate-in/fade-in/zoom-in ì»¤ìŠ¤í…€ ëª¨ë‹¬ë¡œ êµì²´ |

---

### S9-08: results.ts ëŒ€ëŸ‰ ìº í˜ì¸ ë©”ëª¨ë¦¬ ì •ë ¬ ì„±ëŠ¥ ë³‘ëª© (GPT ì§€ì )

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major |
| **ìƒíƒœ** | ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° |
| **ë„ë©”ì¸** | ë°±ì—”ë“œ â€” ë°œì†¡ê²°ê³¼ ì¡°íšŒ |
| **ê¸°ëŒ€ ê²°ê³¼** | 30~40ë§Œê±´ ìº í˜ì¸ë„ ë¹ ë¥´ê²Œ ì¡°íšŒ (í˜ì´ì§€ ë¶„ëŸ‰ë§Œ ë¡œë“œ) |
| **ì‹¤ì œ ê²°ê³¼** | 3ê°œ APIì—ì„œ MySQL 27í…Œì´ë¸” ì „ì²´ ë ˆì½”ë“œë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œ â†’ Node.jsì—ì„œ ì •ë ¬/í˜ì´ì§€ë„¤ì´ì…˜ â†’ OOM/íƒ€ì„ì•„ì›ƒ/ì´ë²¤íŠ¸ë£¨í”„ ë¸”ë¡œí‚¹ |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ (GPT í¬ë¡œìŠ¤ì²´í¬ì—ì„œ ë°œê²¬) |
| **ê·¼ë³¸ ì›ì¸** | â‘  `/:id/messages` â€” smsSelectAllWhere()ë¡œ 27í…Œì´ë¸” ì „ì²´ SELECT(LIMIT ì—†ìŒ) â†’ concat â†’ JS sort â†’ slice. 30ë§Œê±´ ì „ë¶€ ë©”ëª¨ë¦¬ ë¡œë“œ í›„ 10ê±´ë§Œ ë°˜í™˜. â‘¡ `/:id/export` â€” ì „ì²´ ë©”ëª¨ë¦¬ ë¡œë“œ â†’ join â†’ res.send í•œë²ˆì— ì „ì†¡(~360MB). â‘¢ `/:id` ìƒì„¸ â€” 27í…Œì´ë¸” Ã— 2ì§‘ê³„ = 54ì¿¼ë¦¬ N+1 íŒ¨í„´ |
| **ìœ„í—˜** | OOM í¬ë˜ì‹œ(300MB+), íƒ€ì„ì•„ì›ƒ(10~30ì´ˆ), ì´ë²¤íŠ¸ë£¨í”„ ë¸”ë¡œí‚¹(ë‹¤ë¥¸ API ì „ë¶€ ì •ì§€), ë™ì‹œ ì ‘ì† ì‹œ ê³±ì…ˆ(3ëª…=900MB) |
| **ìˆ˜ì • ë‚´ìš©** | â‘  `/:id/messages` â€” SMS+ì¹´ì¹´ì˜¤ **UNION ALL ë‹¨ì¼ ì¿¼ë¦¬** + MySQL ORDER BY + LIMIT/OFFSET. í”„ë¡ íŠ¸ ë³€ê²½ ì—†ìŒ(ì´ë¯¸ page/limit ì „ë‹¬ ì¤‘) â‘¡ `/:id/export` â€” UNION ALL + **10,000ê±´ ì²­í¬ ìŠ¤íŠ¸ë¦¬ë°**(res.write ë£¨í”„, ì „ì²´ ë©”ëª¨ë¦¬ ì ì¬ ì œê±°) â‘¢ `/:id` ìƒì„¸ â€” **smsUnionGroupBy()** UNION ALL + GROUP BY ë‹¨ì¼ ì¿¼ë¦¬ 2ê°œ(ê¸°ì¡´ 54ì¿¼ë¦¬â†’2ì¿¼ë¦¬) â‘£ ì‹ ê·œ í—¬í¼: repeatParams/smsUnionCount/smsUnionSelect/smsUnionGroupBy (ê¸°ì¡´ smsQueryAll/smsCountAllWhere/smsSelectAllWhere/smsAggAllWhere êµì²´) |
| **ìˆ˜ì • íŒŒì¼** | results.ts (626ì¤„â†’618ì¤„, ì „ë©´ ë¦¬íŒ©í† ë§) |
| **ê°œì„  íš¨ê³¼** | ë©”ëª¨ë¦¬ 300MBâ†’10KB(99.997%ì ˆê°), ì‘ë‹µ 10~30ì´ˆâ†’0.05~0.3ì´ˆ(30~100ë°°), MySQL ì™•ë³µ 54íšŒâ†’2íšŒ(27ë°°), CSV OOM ì œê±°, í”„ë¡ íŠ¸ ë³€ê²½ ì—†ìŒ |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | messages API: UNION ALL ë‹¨ì¼ ì¿¼ë¦¬ + ORDER BY _sort_time DESC + LIMIT/OFFSET êµ¬ì¡° í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | messages API: SMS+ì¹´ì¹´ì˜¤ UNION ALL í˜¸í™˜ ì»¬ëŸ¼(16ê°œ ë™ì¼) í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | messages API: searchType(phone/callback/content) + status(success/fail) í•„í„° ì •ìƒ ë°˜ì˜ í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | export API: ì²­í¬ ìŠ¤íŠ¸ë¦¬ë°(CHUNK_SIZE=10000, res.write ë£¨í”„, res.end) êµ¬ì¡° í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | export API: ì—ëŸ¬ ì‹œ headersSent ì²´í¬ í›„ ì•ˆì „ ì¢…ë£Œ í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | ìƒì„¸ API: smsUnionGroupBy()ë¡œ status_code/mob_company ì§‘ê³„ â€” ë‹¨ì¼ ì¿¼ë¦¬ 2ê°œ í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | API ì‘ë‹µ í˜•ì‹(messages/pagination/charts) ê¸°ì¡´ê³¼ 100% í˜¸í™˜ â€” í”„ë¡ íŠ¸ ë³€ê²½ ë¶ˆí•„ìš” í™•ì¸ | âœ… |
| 1ë‹¨ê³„ ì½”ë“œ | ê¸°ì¡´ ë©”ëª¨ë¦¬ ì •ë ¬ íŒ¨í„´(allMessages.concat/sort/slice) ì™„ì „ ì œê±° í™•ì¸ | âœ… |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ëŒ€ëŸ‰ ìº í˜ì¸(1ë§Œê±´+) ë°œì†¡ë‚´ì—­ ì¡°íšŒ â†’ 10ê±´ í˜ì´ì§€ ë¹ ë¥´ê²Œ ë¡œë“œë˜ëŠ”ì§€ | â¬œ |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ë°œì†¡ë‚´ì—­ ê²€ìƒ‰(ìˆ˜ì‹ ë²ˆí˜¸/íšŒì‹ ë²ˆí˜¸/ë‚´ìš©) + ìƒíƒœ í•„í„° ì •ìƒ ë™ì‘ | â¬œ |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | CSV ë‹¤ìš´ë¡œë“œ â†’ ëŒ€ëŸ‰ ìº í˜ì¸ì—ì„œ íƒ€ì„ì•„ì›ƒ ì—†ì´ ì™„ë£Œë˜ëŠ”ì§€ | â¬œ |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | ìº í˜ì¸ ìƒì„¸ ì°¨íŠ¸(í†µì‹ ì‚¬ë³„/ì‹¤íŒ¨ì‚¬ìœ ë³„) ì •ìƒ í‘œì‹œ | â¬œ |

---

## 3-1) ğŸ”´ GPT P0 ê²°í•¨ â€” ë³´ì•ˆ/ì •ì‚°/ì‹œê°„ëŒ€ (GPT í¬ë¡œìŠ¤ì²´í¬ 2026-02-26 ë°œê²¬)

> **ë°œê²¬ ê²½ìœ„:** Haroldë‹˜ì´ ì½”ë“œ 6ê°œ íŒŒì¼ì„ GPTì—ê²Œ í•œ ë²ˆ ë³´ì—¬ì£¼ê³  ì¦‰ì‹œ P0ê¸‰ ê²°í•¨ 5ê±´ ë°œê²¬. ClaudeëŠ” ìˆ˜ì‹­ ì„¸ì…˜ ë™ì•ˆ ê°™ì€ íŒŒì¼ì„ ë³´ë©´ì„œ ë¯¸ë°œê²¬.
> **êµí›ˆ:** Claude ë‹¨ë… ê²€ì¦ ë¶ˆê°€. ëª¨ë“  ìˆ˜ì • ê²°ê³¼ GPT êµì°¨ê²€ì¦ í•„ìˆ˜.
> **í˜„ì¬ ìƒíƒœ:** GP-01/03/05 âœ… ì½”ë“œí™•ì¸, GP-04 âœ… í’€ ë ˆë²¨ ìˆ˜ì •, GP-02 ğŸŸ¡ Nginx í™•ì¸ í•„ìš”

---

### GP-01: spam-filter.ts ê¶Œí•œ ì²´í¬ ë¶ˆì¼ì¹˜ (req.user.role vs userType)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ Critical (ë³´ì•ˆ) |
| **ìƒíƒœ** | âœ… ì½”ë“œ í™•ì¸ë¨ (2026-02-26 ì‹¤ë¬¼ ê²€ì¦: L655 `userType` ì •ìƒ) |
| **ë„ë©”ì¸** | sys.hanjullo.com â€” ìŠ¤íŒ¸í•„í„° ë””ë°”ì´ìŠ¤ ê´€ë¦¬ |
| **ê¸°ëŒ€ ê²°ê³¼** | ìŠˆí¼ê´€ë¦¬ìë§Œ `/admin/devices` ì ‘ê·¼ ê°€ëŠ¥ |
| **ì‹¤ì œ ê²°ê³¼** | JWT payloadëŠ” `userType` ê¸°ë°˜ì¸ë° ì½”ë“œì—ì„œ `req.user.role`ë¡œ ì²´í¬ â†’ ìŠˆí¼ê´€ë¦¬ìë„ 403 |
| **ê·¼ë³¸ ì›ì¸** | JWT í† í° êµ¬ì¡°ì™€ ì½”ë“œì˜ í•„ë“œëª… ë¶ˆì¼ì¹˜ |
| **ìˆ˜ì • ë‚´ìš© (ìˆ˜ì • ì „â†’í›„)** | **[ìˆ˜ì • ì „]** `if ((req as any).user.role !== 'super_admin')` **[ìˆ˜ì • í›„]** `if ((req as any).user.userType !== 'super_admin')` |
| **ìˆ˜ì • íŒŒì¼** | spam-filter.ts L655 |

---

### GP-02: /uploads ì •ì  ì„œë¹™ ì¸ì¦ ì—†ìŒ (PII ë…¸ì¶œ)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ğŸ”´ Blocker (ë³´ì•ˆ) |
| **ìƒíƒœ** | ğŸ”µ Open |
| **ë„ë©”ì¸** | ì „ì²´ â€” íŒŒì¼ ì—…ë¡œë“œ |
| **ê¸°ëŒ€ ê²°ê³¼** | ì—…ë¡œë“œëœ íŒŒì¼(ê³ ê° PII í¬í•¨ ê°€ëŠ¥)ì€ ì¸ì¦ëœ ìš”ì²­ë§Œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥ |
| **ì‹¤ì œ ê²°ê³¼** | `/uploads` ê²½ë¡œê°€ ì •ì  ì„œë¹™ìœ¼ë¡œ ì¸ì¦ ì—†ì´ ì ‘ê·¼ ê°€ëŠ¥ â†’ URL ì•Œë©´ ëˆ„êµ¬ë‚˜ ë‹¤ìš´ë¡œë“œ |
| **ê·¼ë³¸ ì›ì¸** | Express static middleware ë˜ëŠ” Nginx ì„¤ì •ì—ì„œ `/uploads` ë””ë ‰í† ë¦¬ ë¬´ì¸ì¦ ì„œë¹™ |
| **í•´ê²° ë°©í–¥** | â‘  ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ ì¶”ê°€ (JWT ê²€ì¦), â‘¡ íŒŒì¼ëª… UUID ë‚œë…í™”, â‘¢ TTL ê¸°ë°˜ ìë™ ì •ë¦¬, â‘£ íŒŒì¼ ìœ„ì¹˜ í™•ì¸ í•„ìš” (app.ts ë˜ëŠ” Nginx ì„¤ì •) |

---

### GP-03: ì„ ë¶ˆ ì°¨ê° í›„ ë°œì†¡ ì‹¤íŒ¨ ì‹œ í™˜ë¶ˆ ë¯¸ë³´ì¥ (ğŸ”´ğŸ”´ ì¹˜ëª… ì •ì‚° ì´ìŠˆ)

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ğŸ”´ Blocker (ì •ì‚°) |
| **ìƒíƒœ** | âœ… ì½”ë“œ í™•ì¸ë¨ (2026-02-26 ì‹¤ë¬¼ ê²€ì¦: AI L1144 + ì§ì ‘ L2123 + í…ŒìŠ¤íŠ¸ L707 prepaidRefund) |
| **ë„ë©”ì¸** | hanjul.ai â€” ë°œì†¡ ì „ì²´ |
| **ê¸°ëŒ€ ê²°ê³¼** | prepaidDeduct() ì°¨ê° í›„ MySQL INSERT ì‹¤íŒ¨ ì‹œ ì¦‰ì‹œ í™˜ë¶ˆ |
| **ì‹¤ì œ ê²°ê³¼** | catch ë¸”ë¡ì—ì„œ 500ë§Œ ë°˜í™˜í•˜ê³  ì°¨ê° ê¸ˆì•¡ ë¯¸í™˜ë¶ˆ â†’ ëˆì€ ë¹ ì¡ŒëŠ”ë° ë°œì†¡ ì•ˆ ë¨ â†’ ê³ ê° í´ë ˆì„ |
| **ê·¼ë³¸ ì›ì¸** | prepaidDeduct()ì™€ MySQL INSERT ì‚¬ì´ì— íŠ¸ëœì­ì…˜ ë³´ì¥ ì—†ìŒ. catchì— í™˜ë¶ˆ ë¡œì§ ì—†ìŒ |
| **ìˆ˜ì • ë‚´ìš© (ìˆ˜ì • ì „â†’í›„)** | **[ìˆ˜ì • ì „]** â‘  /:id/send â€” ì°¨ê° í›„ MySQL INSERT ì‹¤íŒ¨ ì‹œ catchì—ì„œ 500ë§Œ ë°˜í™˜ â‘¡ /direct-send â€” ë™ì¼ â‘¢ /test-send â€” ë™ì¼ **[ìˆ˜ì • í›„]** â‘  /:id/send â€” ì°¨ê° ì„±ê³µ í›„ ë‚´ë¶€ try-catch ì¶”ê°€. sendError ì‹œ prepaidRefund(companyId, count, type, id, 'ë°œì†¡ ì‹¤íŒ¨ ìë™ í™˜ë¶ˆ') + ìº í˜ì¸ status='failed' ë§ˆí‚¹ â‘¡ /direct-send â€” ë™ì¼ êµ¬ì¡° â‘¢ /test-send â€” ì‹¤íŒ¨ê±´ìˆ˜(managerContacts.length - sentCount)ë§Œí¼ prepaidRefund |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts L707(í…ŒìŠ¤íŠ¸), L1144(AIë°œì†¡), L2123(ì§ì ‘ë°œì†¡) |
| **âš ï¸ ì „ì œì¡°ê±´** | `prepaidRefund` í•¨ìˆ˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ í•„ìš”. ì—†ìœ¼ë©´ ì‹ ê·œ ìƒì„± í•„ìˆ˜ |

---

### GP-04: ì˜ˆì•½/ë¶„í•  ë°œì†¡ UTC/KST ë¶ˆì¼ì¹˜

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major (ì‹œê°„ëŒ€) |
| **ìƒíƒœ** | âœ… ìˆ˜ì •ë¨ (2026-02-26: database.ts mysqlQuery í’€ ë ˆë²¨ ë§¤ ì»¤ë„¥ì…˜ KST ë³´ì¥ + campaigns.ts ë‹¨ì¼ SET ì œê±°) |
| **ë„ë©”ì¸** | hanjul.ai â€” ì˜ˆì•½/ë¶„í•  ë°œì†¡ |
| **ê¸°ëŒ€ ê²°ê³¼** | MySQLì˜ NOW()ì™€ toKoreaTimeStr()ì´ ë™ì¼ ì‹œê°„ëŒ€ ê¸°ì¤€ |
| **ì‹¤ì œ ê²°ê³¼** | ì¦‰ì‹œë°œì†¡ì€ NOW()ë¡œ í•´ê²°ë˜ì§€ë§Œ, ì˜ˆì•½/ë¶„í• ì€ toKoreaTimeStr() ê¸°ë°˜. MySQL ì„¸ì…˜ TZê°€ UTCë©´ 9ì‹œê°„ ë°€ë¦¼ |
| **ê·¼ë³¸ ì›ì¸** | MySQL ì„¸ì…˜ íƒ€ì„ì¡´ ë¯¸ì„¤ì •. ì„œë²„(Node.js)ì™€ MySQL ì‹œê°„ëŒ€ ë¶ˆì¼ì¹˜ ê°€ëŠ¥ |
| **ìˆ˜ì • ë‚´ìš© (ìˆ˜ì • ì „â†’í›„)** | **[ìˆ˜ì • ì „]** MySQL ì„¸ì…˜ íƒ€ì„ì¡´ ë¯¸ì„¤ì •, toKoreaTimeStr() ê²°ê³¼ê°€ MySQL TZì™€ ë¶ˆì¼ì¹˜ ê°€ëŠ¥ **[ìˆ˜ì • í›„]** â‘  campaigns.ts ìµœìƒë‹¨ì— `mysqlQuery("SET time_zone = '+09:00'")` ì„œë²„ ì‹œì‘ ì‹œ ì‹¤í–‰ â‘¡ ì‹œì‘ ì‹œ `SELECT NOW(), @@session.time_zone` í™•ì¸ ë¡œê·¸ ì¶œë ¥ |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts L14-24 |
| **âš ï¸ ì£¼ì˜** | ì»¤ë„¥ì…˜ í’€ í™˜ê²½ì—ì„œ ì„¸ì…˜ ë‹¨ìœ„ ì„¤ì •ì´ í’€ ì „ì²´ì— ì ìš©ë˜ëŠ”ì§€ í™•ì¸ í•„ìš” |

---

### GP-05: ì§ì ‘ë°œì†¡ ì”ì—¬ %ë³€ìˆ˜% strip ëˆ„ë½

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸŸ  Major (ì¹˜í™˜) |
| **ìƒíƒœ** | âœ… ì½”ë“œ í™•ì¸ë¨ (2026-02-26 ì‹¤ë¬¼ ê²€ì¦: SMS L1956 + ì¹´ì¹´ì˜¤ L2057 strip + messageUtils L76 ê³µí†µ strip) |
| **ë„ë©”ì¸** | hanjul.ai â€” ì§ì ‘ë°œì†¡ |
| **ê¸°ëŒ€ ê²°ê³¼** | ì¹˜í™˜ ì•ˆ ëœ ì”ì—¬ %ë³€ìˆ˜%ê°€ stripë˜ì–´ ë°œì†¡ |
| **ì‹¤ì œ ê²°ê³¼** | /:id/sendëŠ” `/%[^%\s]{1,20}%/g` strip ìˆìœ¼ë‚˜, /direct-sendëŠ” %ì´ë¦„%/%ê¸°íƒ€1~3%ë§Œ replace â†’ ë‚˜ë¨¸ì§€ ë³€ìˆ˜ ê·¸ëŒ€ë¡œ ë°œì†¡ |
| **ìˆ˜ì • ë‚´ìš©** | /direct-send ìµœí›„ ì•ˆì „ë§(DBì— ì—†ëŠ” ìˆ˜ì‹ ì)ì— `.replace(/%[^%\s]{1,20}%/g, '')` strip ì¶”ê°€ |
| **ìˆ˜ì • íŒŒì¼** | campaigns.ts |

---

## 3-2) GPT í¬ë¡œìŠ¤ì²´í¬ ì¢…í•© â€” ë¬¸ì„œ ì˜¤ë¥˜ ì •ì • (2026-02-26)

> **ê²½ìœ„:** GPT 1ì°¨ í¬ë¡œìŠ¤ì²´í¬ì—ì„œ P0 ê²°í•¨ 5ê±´ ì§€ì . Claudeê°€ ì‹¤ì œ ì½”ë“œ í™•ì¸ ì—†ì´ "ë¯¸ìˆ˜ì •" ë™ì˜ â†’ STATUS.md/BUGS.mdì— í—ˆìœ„ ê¸°ë¡.
> **2026-02-26 ì‹¤ë¬¼ ê²€ì¦:** Haroldë‹˜ íŒŒì¼ 6ê°œ ì œì¶œ â†’ ì‹¤í–‰ íë¦„ ì¶”ì ìœ¼ë¡œ ê²€ì¦í•œ ê²°ê³¼:
> - GP-01/03/05, S9-01/03, messageUtils ì—°ê²° â€” **ì „ë¶€ ì½”ë“œì— ì´ë¯¸ ë°˜ì˜ë¨**
> - GP-04 â€” ì»¤ë„¥ì…˜ í’€ êµ¬ì¡° ë¬¸ì œëŠ” GPT ì§€ì ì´ ì •í™• â†’ database.ts í’€ ë ˆë²¨ë¡œ ë³´ê°•
> - GP-02 â€” Express app.tsì— /uploads ì •ì  ì„œë¹™ ì—†ìŒ. Nginx í™•ì¸ í•„ìš”
> - upload.ts ì¸ì¦ â€” GPT ì§€ì  ì •í™• â†’ /parse, /mapping, /progress 3ê³³ authenticate ì¶”ê°€
> **êµí›ˆ:** GPT ì˜ê²¬ì€ ê²¸í—ˆíˆ ìˆ˜ìš©í•˜ë˜, ë°˜ë“œì‹œ ì‹¤ì œ ì½”ë“œë¡œ ê²€ì¦ í›„ íŒë‹¨. Claudeë„ ìê¸° ì½”ë“œë¥¼ ë¶€ì •í•˜ì§€ ë§ ê²ƒ.
> **Haroldë‹˜ íŒë‹¨:** "ë„ˆë§Œ ìµœê³ ê°€ ì•„ë‹ˆì•¼. GPT ì˜ê²¬ë„ ê²¸í—ˆí•˜ê²Œ ìƒê°í•´ë³´ë˜, ë„¤ íŒë‹¨ë„ ìˆì–´ì•¼ì§€"
> **Haroldë‹˜ íŒë‹¨:** "ë„ˆë§Œ ìµœê³ ê°€ ì•„ë‹ˆì•¼. GPT ì˜ê²¬ë„ ê²¸í—ˆí•˜ê²Œ ìƒê°í•´ë³´ë˜, ë„¤ íŒë‹¨ë„ ìˆì–´ì•¼ì§€. ëˆ„ê°€ GPT ì˜ê²¬ ë¬´ì¡°ê±´ ë”°ë¼í•˜ë˜?"

### ì½”ë“œ ì‹¤ë¬¼ ê²€ì¦ ê²°ê³¼ (2026-02-26)

| # | ë²„ê·¸ID | ë¬¸ì œ | GPT íŒì • | ì‹¤ì œ ì½”ë“œ | ì½”ë“œ ê·¼ê±° |
|---|--------|------|---------|----------|----------|
| 1 | GP-01 | spam-filter.ts ê¶Œí•œ ì²´í¬ | âŒ ë¯¸ìˆ˜ì • | âœ… ìˆ˜ì •ë¨ | L655 `req.user.userType !== 'super_admin'` |
| 2 | GP-03 | ì„ ë¶ˆ í™˜ë¶ˆ | âŒ ë¯¸ìˆ˜ì • | âœ… ìˆ˜ì •ë¨ | AI L1144 + ì§ì ‘ L2123 + í…ŒìŠ¤íŠ¸ L707 prepaidRefund |
| 3 | GP-05 | ì”ì—¬ë³€ìˆ˜ strip | âŒ ë¯¸ìˆ˜ì • | âœ… ìˆ˜ì •ë¨ | SMS L1956 + ì¹´ì¹´ì˜¤ L2057 + messageUtils L76 |
| 4 | GP-04 | MySQL TZ | âŒ ë¯¸ìˆ˜ì • | ğŸŸ¡ ë¶€ë¶„ â†’ âœ… ë³´ê°• | ë‹¨ì¼ SETì€ ìˆì—ˆìœ¼ë‚˜ í’€ êµ¬ì¡° ë¬¸ì œ. database.ts í’€ ë ˆë²¨ë¡œ ìˆ˜ì • |
| 5 | S9-01 | customMessages | âŒ ë¯¸ìˆ˜ì • | âœ… ìˆ˜ì •ë¨ | L1773-1781 Map + L1940-1958 SMS + L2043-2058 ì¹´ì¹´ì˜¤ |

### ğŸŸ¡ ë¶€ë¶„ ìˆ˜ì • / ì”ì—¬ í™•ì¸ í•„ìš”

| # | ë²„ê·¸ID | ë¬¸ì œ | ìƒíƒœ | ê·¼ê±° |
|---|--------|------|------|------|
| 1 | S9-02 | ìŠ¤íŒ¸í…ŒìŠ¤íŠ¸ ì¹˜í™˜ | âœ… ì„œë²„+í”„ë¡ íŠ¸ ëª¨ë‘ ì™„ë£Œ | ì„œë²„: DB ì§ì ‘ ì¡°íšŒ+replaceVariables. í”„ë¡ íŠ¸: ìŠ¤íŒ¸í•„í„° ë²„íŠ¼ í´ë¦­ ì‹œ replaceVars() ì¹˜í™˜ (Dashboard L4101 ì§ì ‘ë°œì†¡, L3320 AIí•œì¤„ë¡œ, AiCampaignResultPopup L340) |
| 2 | - | messageUtils.ts ê³µí†µ í•¨ìˆ˜ | âœ… ì—°ê²° ì™„ë£Œ | campaigns.ts L7 import + 5ê³³ í˜¸ì¶œ. spam-filter.ts L6 import + 2ê³³ í˜¸ì¶œ |

### ğŸ“ ì¶”ê°€ ìœ„í—˜ (GPT 2ì°¨ ì‹ ê·œ ë°œê²¬)

| # | ë¬¸ì œ | ì‹¬ê°ë„ | ìƒì„¸ |
|---|------|--------|------|
| 1 | upload.ts `/parse` `/mapping` `/progress` ì¸ì¦ ì—†ìŒ | ğŸŸ  Major | âœ… ìˆ˜ì •ë¨ (2026-02-26: 3ê³³ authenticate ì¶”ê°€) |
| 2 | ì—…ë¡œë“œ íŒŒì¼ëª… sanitize ì—†ìŒ | ğŸŸ¡ Minor | `uniqueSuffix + '-' + file.originalname` ê·¸ëŒ€ë¡œ ì €ì¥. L53~56 |
| 3 | `/parse` í›„ `/save` ì•ˆ íƒ€ë©´ íŒŒì¼ ì”ì¡´ | ğŸŸ¡ Minor | `/save`ì—ì„œë§Œ íŒŒì¼ ì‚­ì œ(L611~612). `/parse?includeData=true`ë§Œ ì“°ë©´ íŒŒì¼ ë‚¨ìŒ |

### â›” ë‹¤ìŒ ì„¸ì…˜ ì”ì—¬ ì´ìŠˆ

> ì½”ë“œ ì‹¤ë¬¼ ê²€ì¦ìœ¼ë¡œ ëŒ€ë¶€ë¶„ í•´ê²° í™•ì¸. ì•„ë˜ëŠ” ì‹¤ì œ ë‚¨ì€ ê±´ë§Œ.

| ìš°ì„ ìˆœìœ„ | ìˆ˜ì • ëŒ€ìƒ | íŒŒì¼ | ìƒíƒœ |
|---------|----------|------|------|
| ğŸŸ¡ | GP-02 /uploads Nginx ì„œë¹™ | Nginx ì„¤ì • | ğŸŸ¡ Expressì— ì—†ìŒ. Nginx í™•ì¸ í•„ìš” |
| ğŸŸ¡ | S9-07 alert/confirm ëª¨ë‹¬ | AiCustomSendFlow.tsx | â¬œ Open (UI) |
| ğŸŸ¡ | íŒŒì¼ëª… sanitize | upload.ts | â¬œ Minor |
| ğŸŸ¡ | /parse íŒŒì¼ ì”ì¡´ ì •ë¦¬ | upload.ts | â¬œ Minor |

| ì™„ë£Œ | ìˆ˜ì • ëŒ€ìƒ | ìƒíƒœ |
|------|----------|------|
| âœ… | S9-08 ëŒ€ëŸ‰ í˜ì´ì§€ë„¤ì´ì…˜ | UNION ALL ì„œë²„ì¸¡ í˜ì´ì§€ë„¤ì´ì…˜ ì „í™˜. messages/export/ìƒì„¸ 3API ë¦¬íŒ©í† ë§. ë©”ëª¨ë¦¬ 300MBâ†’10KB |
| âœ… | S9-04 sent_at ê²½ìŸ ì¡°ê±´ | sync-results 3ê³³+ì¸ë¼ì¸sync+ì§ì ‘ì˜ˆì•½WHERE 5ê³³ ìˆ˜ì •. COALESCE(sent_at,scheduled_at,NOW()) |

| ì™„ë£Œ | ìˆ˜ì • ëŒ€ìƒ | ìƒíƒœ |
|------|----------|------|
| âœ… | GP-01 ê¶Œí•œ ì²´í¬ | ì½”ë“œ í™•ì¸ë¨ L655 |
| âœ… | GP-03 ì„ ë¶ˆ í™˜ë¶ˆ | ì½”ë“œ í™•ì¸ë¨ 3ê²½ë¡œ |
| âœ… | GP-04 MySQL TZ | database.ts í’€ ë ˆë²¨ ìˆ˜ì • |
| âœ… | GP-05 ì”ì—¬ë³€ìˆ˜ strip | ì½”ë“œ í™•ì¸ë¨ L1956+L2057 |
| âœ… | S9-01 customMessages | ì½”ë“œ í™•ì¸ë¨ L1773-1781 |
| âœ… | S9-02 í”„ë¡ íŠ¸ ë¯¸ë¦¬ë³´ê¸° ì¹˜í™˜ | ì„œë²„ DBì¡°íšŒ+replaceVariables + í”„ë¡ íŠ¸ replaceVars() 3ê³³(Dashboard+AiCampaignResultPopup+SpamFilterTestModal) |
| âœ… | S9-03 ë‚˜ì´ ë™ì ì—°ë„ | ì½”ë“œ í™•ì¸ë¨ L1188-1203 |
| âœ… | S9-05 subject ì¤‘ë³µ | ai.ts ë³„ë„ ìˆ˜ì • |
| âœ… | upload.ts ì¸ì¦ | /parse, /mapping, /progress authenticate ì¶”ê°€ |
| âœ… | messageUtils.ts ì—°ê²° | campaigns.ts 5ê³³ + spam-filter.ts 2ê³³ import+í˜¸ì¶œ |
| âœ… | íŒŒì¼ì—…ë¡œë“œ í”„ë¡ íŠ¸ ì¸ì¦ | Dashboard.tsx 2ê³³ Authorization Bearer í† í° ì¶”ê°€ (ê³ ê°DB+ì§ì ‘ë°œì†¡) |
| âœ… | ìŠ¤íŒ¸í•„í„° ë¦¬í¬íŠ¸ ë§¤ì¹­ | ë””ë°”ì´ìŠ¤ ê¸°ë°˜ fallback + stale í…ŒìŠ¤íŠ¸ ìë™ ì •ë¦¬ |

---

## 4) ğŸ”„ 5ê°œ ê²½ë¡œ ì „ìˆ˜ ì ê²€ ë§¤íŠ¸ë¦­ìŠ¤ (D29 ì˜ë¬´í™”)

> **ê·œì¹™:** ë°œì†¡ ê´€ë ¨ ì½”ë“œ ìˆ˜ì • ì‹œ ì´ ë§¤íŠ¸ë¦­ìŠ¤ë¥¼ ë°˜ë“œì‹œ ì±„ì›Œì•¼ í•œë‹¤.  
> **5ê°œ ê²½ë¡œ:** /:id/send(AI), /direct-send(ì§ì ‘), /test-send(í…ŒìŠ¤íŠ¸), spam-filter/test(ìŠ¤íŒ¸), ì˜ˆì•½(scheduled)

### 8ì°¨+9ì°¨+GPT í†µí•© ë§¤íŠ¸ë¦­ìŠ¤ (campaigns.ts + spam-filter.ts + Dashboard.tsx) â€” 2026-02-26 ì½”ë“œ ì‹¤ë¬¼ ê²€ì¦

> âœ… = ì½”ë“œ ì‹¤ë¬¼ì—ì„œ ì§ì ‘ í™•ì¸ë¨ (2026-02-26)

| ì²´í¬ í•­ëª© | /:id/send (AI) | /direct-send | /test-send | spam-filter | ì˜ˆì•½ìˆ˜ì • |
|-----------|:-:|:-:|:-:|:-:|:-:|
| íšŒì‹ ë²ˆí˜¸ ë“±ë¡ ì—¬ë¶€ ê²€ì¦ | âœ… L836+L946 | âœ… L1755+L1773 | - (ê¸°ë³¸ë²ˆí˜¸) | - (ê¸°ë³¸ë²ˆí˜¸) | - |
| MySQL INSERT ì‹œ title_str ì •ìƒ ì „ë‹¬ | âœ… L1058 | âœ… L1952 | âœ… L657 | âœ… ë³„ë„íŒŒì¼ | âœ… L2528 |
| ì œëª© ë¨¸ì§€ ì¹˜í™˜ ì½”ë“œ â†’ ì‚­ì œ (D28) | âœ… L1019 | âœ… L1891 | - (ì—†ì—ˆìŒ) | âœ… (ì—†ìŒ) | âœ… L2512 |
| ë³¸ë¬¸ ê°œì¸í™” ë³€ìˆ˜ ì¹˜í™˜ ì •ìƒ | âœ… replaceVariables() | âœ… customMsgâ†’DBí´ë°±â†’ì•ˆì „ë§ | âœ… DB ì§ì ‘ì¡°íšŒ+replaceVariables() | âœ… DB ì§ì ‘ì¡°íšŒ+replaceVariables() | âœ… replaceVariables() |
| ê³ ê° ë°ì´í„° ì†ŒìŠ¤ | DB ì§ì ‘ ì¡°íšŒ | customMsgìš°ì„ â†’DBí´ë°±â†’ì•ˆì „ë§ | âœ… DB ì§ì ‘ ì¡°íšŒ (ì„œë²„) | âœ… DB ì§ì ‘ ì¡°íšŒ (ì„œë²„) | DB ì§ì ‘ ì¡°íšŒ |
| í”„ë¡ íŠ¸ í•˜ë“œì½”ë”© ì¹˜í™˜ | ì—†ìŒ | ì—†ìŒ | ì—†ìŒ | âœ… ì œê±° (D34) | ì—†ìŒ |
| ì”ì—¬ë³€ìˆ˜ strip | âœ… | âœ… ëª¨ë“  ê²½ë¡œ (GP-05) | âœ… | âœ… | âœ… |
| sendreq_time MySQL NOW() ì‚¬ìš© | âœ… | âœ… L1909 | âœ… | âœ… | âœ… |
| campaign ìƒíƒœ ì—…ë°ì´íŠ¸ ì •í™•ì„± | âœ… | âœ… L2015 sending | - | - | âœ… |
| ì„ ë¶ˆ ì°¨ê° í›„ ì‹¤íŒ¨ ì‹œ í™˜ë¶ˆ (GP-03) | âœ… L1144 sendErrorâ†’refund | âœ… L2123 sendErrorâ†’refund | âœ… L707 ì‹¤íŒ¨ê±´ í™˜ë¶ˆ | - (ë¹„ê³¼ê¸ˆ) | - |
| firstCustomerData í”„ë¡ íŠ¸ ì˜ì¡´ | ì—†ìŒ | ì—†ìŒ | âœ… ì œê±°â†’ì„œë²„ DB ì¡°íšŒ | âœ… ì œê±°â†’ì„œë²„ DB ì¡°íšŒ | ì—†ìŒ |

---

## 5) ğŸ“Š 6ì°¨/7ì°¨ ì¬ë°œ êµí›ˆ (8ì°¨ì—ì„œ ì¬ë°œí•œ ë²„ê·¸)

> **í•µì‹¬ êµí›ˆ:** "ì™„ë£Œ" ë³´ê³  í›„ì—ë„ ë‹¤ë¥¸ ê²½ë¡œ/ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°™ì€ ë²„ê·¸ê°€ ì‚´ì•„ìˆì—ˆìŒ.  
> **ê·¼ë³¸ ì›ì¸:** ì‹ ê³ ëœ 1ê°œ ê²½ë¡œë§Œ íŒ¨ì¹˜í•˜ê³  ë‚˜ë¨¸ì§€ 4ê°œë¥¼ ì ê²€í•˜ì§€ ì•ŠìŒ.

| ì´ì „ "ì™„ë£Œ" ê¸°ë¡ | 8ì°¨ ì¬ë°œ ì¦ìƒ | ì¬ë°œ ê·¼ë³¸ ì›ì¸ | 8ì°¨ í•´ê²° ë°©ë²• |
|-----------------|-------------|---------------|-------------|
| 7ì°¨#9 "LMS ì œëª© ë¨¸ì§€ ì¹˜í™˜ ì™„ë£Œ" | #2: ì œëª© %ê³ ê°ëª…% ê·¸ëŒ€ë¡œ ë°œì†¡ | 5ê°œ ê²½ë¡œ ì¤‘ ì¼ë¶€ë§Œ íŒ¨ì¹˜ | D28: ì œëª© ë¨¸ì§€ ìì²´ë¥¼ ì™„ì „ ì œê±° |
| 6ì°¨#4 "SMS ë°”ì´íŠ¸ ì²´í¬ ì™„ë£Œ" | #9: AI ë¯¸ë¦¬ë³´ê¸°ì—ì„œ ì´ˆê³¼ ê°€ëŠ¥ | ì§ì ‘ë°œì†¡ë§Œ ì ìš©, AI ë¯¸ë¦¬ë³´ê¸° ì»´í¬ë„ŒíŠ¸ ëˆ„ë½ | AI variant + AiCustomSendFlow ì–‘ìª½ ì¶”ê°€ |
| 6ì°¨#1 "ë³€ìˆ˜ strip ì™„ë£Œ" | #11: ë¯¸ìš”ì²­ ë³€ìˆ˜ í˜¼ì… | strip ë¡œì§ ë˜ëŠ” í”„ë¡¬í”„íŠ¸ ëˆ„ìˆ˜ | personalizationVarsë§Œ í—ˆìš© + strip ì´ì¤‘ ë°©ì–´ |
| 7ì°¨#3,4 "ìŠ¤íŒ¸í•„í„° ë™ì‹œì„± í•´ê²°" | #1: ê²°ê³¼ ì „ë¶€ ìŠ¤íŒ¸ì°¨ë‹¨ | ë™ì‹œì„±ì€ í•´ê²°í–ˆì§€ë§Œ ê²°ê³¼ íŒì • ë¡œì§ ìì²´ ë¯¸ì ê²€ | í´ë§ ëŒ€ê¸° + 3ë¶„ íƒ€ì„ì•„ì›ƒ ìµœì¢…íŒì • |

---

## 6) â›” ì¬ë°œ ë°©ì§€ ê·œì¹™

### 6-1. ë°œì†¡ ê´€ë ¨ ìˆ˜ì • ì‹œ (D29 ì˜ë¬´)

1. ë°œì†¡ 5ê°œ ê²½ë¡œ ì „ìˆ˜ ì ê²€ í•„ìˆ˜: `/:id/send`, `/direct-send`, `/test-send`, `spam-filter/test`, ì˜ˆì•½
2. ì½”ë“œ ìˆ˜ì • ì‹œ 5ê°œ ê²½ë¡œ ëª¨ë‘ ë™ì¼ ë¡œì§ ì ìš© í™•ì¸ â†’ **ë§¤íŠ¸ë¦­ìŠ¤ ì²´í¬**
3. MySQL INSERT ì¿¼ë¦¬ì˜ ì»¬ëŸ¼ ëª©ë¡ì´ 5ê°œ ê²½ë¡œì—ì„œ ë™ì¼í•œì§€ diff í™•ì¸
4. í”„ë¡ íŠ¸ì—”ë“œ ë¯¸ë¦¬ë³´ê¸° â†” ì‹¤ì œ ë°œì†¡ ë°ì´í„° â†” ìƒì„¸ë³´ê¸° ì¡°íšŒê°€ ë™ì¼ ì†ŒìŠ¤ì¸ì§€ í™•ì¸

### 6-2. AI ë¬¸ì•ˆ ê´€ë ¨ ìˆ˜ì • ì‹œ

1. AI í•œì¤„ë¡œ + AI ë§ì¶¤í•œì¤„ **ì–‘ìª½ ëª¨ë‘** ì ìš© í™•ì¸
2. í”„ë¡¬í”„íŠ¸ ë³€ê²½ ì‹œ ì‹¤ì œ ì‘ë‹µ ê²€ì¦ (ë°”ì´íŠ¸ ì´ˆê³¼ / ë¯¸í—ˆìš© ë³€ìˆ˜ ë“±)

### 6-3. ë°°í¬ ì „ í•„ìˆ˜ ì²´í¬

1. TypeScript íƒ€ì… ì—ëŸ¬ ì—†ì´ ì»´íŒŒì¼ ê°€ëŠ¥í•œê°€? (`tsc --noEmit`)
2. pg_dump ë°±ì—… ì™„ë£Œí–ˆëŠ”ê°€? (DB ë³€ê²½ ì‹œ)
3. ê¸°ì¡´ ê¸°ëŠ¥ ê¹¨ì§(íšŒê·€) í™•ì¸í–ˆëŠ”ê°€?
4. ë¡¤ë°± ë°©ë²•ì´ ìˆëŠ”ê°€? (ì´ì „ git commit)

---

## 7) ğŸ“¦ 8ì°¨ ìˆ˜ì • íŒŒì¼ ì´ê´„

| íŒŒì¼ | ìœ„ì¹˜ | ìˆ˜ì • ì„¸ì…˜ | ê´€ë ¨ ë²„ê·¸ |
|------|------|----------|----------|
| campaigns.ts | backend/routes/ | ì„¸ì…˜1+ì„¸ì…˜3+ì¶”ê°€ | #2,#4,#5,#6,#7,#12 |
| Dashboard.tsx | frontend/components/ | ì„¸ì…˜1+ì„¸ì…˜3+ì¶”ê°€+2ì°¨ì „ìˆ˜ | #3,#7,#8,#12 |
| AiCampaignResultPopup.tsx | frontend/components/ | ì„¸ì…˜1 | #12 |
| spam-filter.ts | backend/routes/ | ì„¸ì…˜2 | #1,#2,#3 |
| services/ai.ts | backend/services/ | ì„¸ì…˜2 | #2,#9,#11 |
| SendConfirmModal.tsx | frontend/components/ | ì„¸ì…˜3 | #8 |
| upload.ts | backend/routes/ | ì„¸ì…˜3 | #10 |
| AiCustomSendFlow.tsx | frontend/components/ | ì¶”ê°€ì„¸ì…˜ | #9 |
| CampaignSuccessModal.tsx | frontend/components/ | 2ì°¨ ì „ìˆ˜ì ê²€ ì„¸ì…˜ | #8 |

## 7-1) ğŸ“¦ 9ì°¨+GPT P0 ìˆ˜ì • íŒŒì¼ ì´ê´„

| íŒŒì¼ | ìœ„ì¹˜ | ìˆ˜ì • ë‚´ìš© | ê´€ë ¨ ë²„ê·¸ | ë¼ì¸ ë³€í™” |
|------|------|----------|----------|----------|
| campaigns.ts | backend/routes/ | DB ì§ì ‘ ì¡°íšŒ ì „í™˜, í™˜ë¶ˆ ë³´ì¥, MySQL TZ | S9-01/02, GP-03/04/05 | 2598â†’2685ì¤„ (+87) |
| spam-filter.ts | backend/routes/ | DB ì§ì ‘ ì¡°íšŒ ì „í™˜, ê¶Œí•œ ì²´í¬ ìˆ˜ì • | S9-02, GP-01 | 693â†’698ì¤„ (+5) |
| Dashboard.tsx | frontend/components/ | í•˜ë“œì½”ë”© ì¹˜í™˜ ì „ë©´ ì œê±° | S9-02 | 5110â†’5087ì¤„ (-23) |
| messageUtils.ts | backend/utils/ | ì‹ ê·œ: ê³µí†µ ì¹˜í™˜ í•¨ìˆ˜ | ì „ì²´ | ì‹ ê·œ 114ì¤„ |

---

## 8) ë°˜ë³µ íŒ¨í„´ ë©”ëª¨

> ë™ì¼ ìœ í˜• ë²„ê·¸ê°€ 3íšŒ ì´ìƒ ì¬ë°œ ì‹œ ì—¬ê¸°ì— ê¸°ë¡í•˜ì—¬ êµ¬ì¡°ì  í•´ê²°ì„ ë„ëª¨í•œë‹¤.

### íŒ¨í„´ P1: "1ê²½ë¡œë§Œ íŒ¨ì¹˜" ë°˜ë³µ (6ì°¨â†’7ì°¨â†’8ì°¨)

- **ì¦ìƒ:** í•œ ê²½ë¡œì—ì„œ ìˆ˜ì • ì™„ë£Œí–ˆì§€ë§Œ ë‚˜ë¨¸ì§€ ê²½ë¡œì— ë™ì¼ ë²„ê·¸ ì”ì¡´
- **ë°œìƒ íšŸìˆ˜:** 5ê±´ ì¬ë°œ (7ì°¨#9â†’8ì°¨#2, 6ì°¨#4â†’8ì°¨#9, 6ì°¨#1â†’8ì°¨#11, 7ì°¨#3,4â†’8ì°¨#1)
- **êµ¬ì¡°ì  ëŒ€ì‘:** D29 â€” 5ê°œ ê²½ë¡œ ì „ìˆ˜ ì ê²€ ë§¤íŠ¸ë¦­ìŠ¤ ì˜ë¬´í™”
- **íš¨ê³¼ ì¸¡ì •:** 9ì°¨ ì´í›„ ë™ì¼ íŒ¨í„´ ì¬ë°œ ì—¬ë¶€ ì¶”ì 

### íŒ¨í„´ P3: "í˜•ì‹ì  ê²€ì¦" â€” ì½”ë“œ ì¡´ì¬ë§Œ í™•ì¸í•˜ê³  ì‹¤í–‰ íë¦„ ë¯¸ì¶”ì  (8ì°¨ ì „ìˆ˜ì ê²€)

- **ì¦ìƒ:** 1ë‹¨ê³„ ì½”ë“œ ê²€ì¦ "ì „ì²´ í†µê³¼" ë³´ê³ í–ˆìœ¼ë‚˜ ì‹¤ë™ì‘ì—ì„œ ì¤„ì¤„ì´ ë¬¸ì œ
- **ë°œìƒ íšŸìˆ˜:** 2íšŒ ì „ìˆ˜ì ê²€ ëª¨ë‘ ë™ì¼í•œ ì–•ì€ ê²€ì¦
- **êµ¬ì¡°ì  ëŒ€ì‘:** ê²€ì¦ ê¸°ì¤€ ë³€ê²½ â€” "ë¼ì¸ ì¡´ì¬ í™•ì¸" â†’ "ì‹¤í–‰ íë¦„ ì¶”ì  + ì…ë ¥â†’ì¶œë ¥ ì‹œë®¬ë ˆì´ì…˜" (ë©”ëª¨ë¦¬ #14)
- **íš¨ê³¼ ì¸¡ì •:** 9ì°¨ ì´í›„ 1ë‹¨ê³„â†’2ë‹¨ê³„ í†µê³¼ìœ¨ ì¶”ì 

### íŒ¨í„´ P4: "AI ê°„ êµì°¨ê²€ì¦ ì‹œ ì½”ë“œ ê·¼ê±° ì—†ì´ ë™ì˜" â€” ë¬¸ì„œ ì˜¤ì—¼

- **ì¦ìƒ:** GPTê°€ ì´ì „ ë²„ì „ ì½”ë“œ ê¸°ì¤€ìœ¼ë¡œ "ë¯¸ìˆ˜ì •" ì§€ì  â†’ Claudeê°€ ìµœì‹  ì½”ë“œ í™•ì¸ ì—†ì´ ë™ì˜ â†’ ë¬¸ì„œì— í—ˆìœ„ "âŒ ë¯¸ìˆ˜ì •" ê¸°ë¡
- **ë°œìƒ í•­ëª©:** GP-01/03/05, S9-01/03 (5ê±´ ëª¨ë‘ ì‹¤ì œë¡œëŠ” ìˆ˜ì •ë¨)
- **ê·¼ë³¸ ì›ì¸:** Claudeê°€ GPT ì˜ê²¬ì„ ì½”ë“œ ê²€ì¦ ì—†ì´ ìˆ˜ìš©. ìê¸° ì½”ë“œë¥¼ ìê¸°ê°€ ë¶€ì •
- **êµ¬ì¡°ì  ëŒ€ì‘:** GPTë“  ë‹¤ë¥¸ AIë“  ì˜ê²¬ ìˆ˜ìš© ì‹œ ë°˜ë“œì‹œ ì‹¤ì œ ì½”ë“œ ì‹¤í–‰ íë¦„ìœ¼ë¡œ ê²€ì¦. "ë¬´ì¡°ê±´ ë”°ë¥´ì§€ë„, ë¬´ì‹œí•˜ì§€ë„ ì•Šê³ , ì½”ë“œ ê·¼ê±°ë¡œ íŒë‹¨"
- **íš¨ê³¼ ì¸¡ì •:** í–¥í›„ êµì°¨ê²€ì¦ ì‹œ ì½”ë“œ ê·¼ê±° ì œì‹œ ì—¬ë¶€ ì¶”ì 

- **ì¦ìƒ:** ì œëª©ì˜ %ë³€ìˆ˜%ê°€ ì¼ë¶€ ê²½ë¡œì—ì„œ ë¯¸ì¹˜í™˜
- **ë°œìƒ íšŸìˆ˜:** 3íšŒ ë°˜ë³µ ì¬ë°œ
- **êµ¬ì¡°ì  ëŒ€ì‘:** D28 â€” ì œëª© ë¨¸ì§€ ì™„ì „ ì œê±°. ë¬¸ì œ ìì²´ë¥¼ ì—†ì•°
- **í˜„ì¬ ìƒíƒœ:** í•´ê²°ë¨ (êµ¬ì¡°ì  ì œê±°)

---

## 9) ë²„ê·¸ ë¦¬í¬íŠ¸ í…œí”Œë¦¿ (ì‹ ê·œ ë²„ê·¸ ë“±ë¡ ì‹œ)

```md
### B[ì°¨ìˆ˜]-[ë²ˆí˜¸]: [í•œ ì¤„ ìš”ì•½]

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ì‹¬ê°ë„** | ğŸ”´ğŸ”´/ğŸ”´/ğŸŸ /ğŸŸ¡ |
| **ìƒíƒœ** | ğŸ”µ Open / ğŸŸ¡ ìˆ˜ì •ì™„ë£Œ-ê²€ì¦ëŒ€ê¸° / âœ… Closed / ğŸ”„ Reopened |
| **ë„ë©”ì¸** | hanjul.ai / app.hanjul.ai / sys.hanjullo.com |
| **ê¸°ëŒ€ ê²°ê³¼** | |
| **ì‹¤ì œ ê²°ê³¼** | |
| **ì¬í˜„ ì ˆì°¨** | 1. ... 2. ... 3. ... |
| **í™˜ê²½** | ë¸Œëœì¹˜/ì»¤ë°‹/ë¸Œë¼ìš°ì €/OS |
| **ì¬ë°œ ì—¬ë¶€** | ì‹ ê·œ / âš ï¸ Nì°¨#N ì¬ë°œ |
| **ê·¼ë³¸ ì›ì¸** | (3ì¤„ ì´ë‚´) |
| **ìˆ˜ì • ë‚´ìš©** | |
| **ìˆ˜ì • íŒŒì¼** | |

**êµì°¨ê²€ì¦:**

| ë‹¨ê³„ | ì ê²€ í•­ëª© | ê²°ê³¼ |
|------|----------|------|
| 1ë‹¨ê³„ ì½”ë“œ | | â¬œ |
| 2ë‹¨ê³„ ì‹¤ë™ì‘ | | â¬œ |
```

---

## 10) í•´ê²°ë¨ (Closed)

> êµì°¨ê²€ì¦ 2ë‹¨ê³„ ëª¨ë‘ í†µê³¼ í›„ ì´ ì„¹ì…˜ìœ¼ë¡œ ì´ë™í•œë‹¤.  
> í•­ëª©ì´ 10ê°œë¥¼ ì´ˆê³¼í•˜ë©´ ì˜¤ë˜ëœ í•­ëª©ì€ `BUGS_ARCHIVE.md`ë¡œ ì´ë™í•˜ê³  1ì¤„ ìš”ì•½ë§Œ ë‚¨ê¸´ë‹¤.

(2ë‹¨ê³„ ì‹¤ë™ì‘ ê²€ì¦ ì™„ë£Œ í›„ ê¸°ë¡ ì‹œì‘)

---

*ìµœì¢… ì—…ë°ì´íŠ¸: 2026-02-26 S9-08 ëŒ€ëŸ‰ í˜ì´ì§€ë„¤ì´ì…˜ UNION ALL ì„œë²„ì¸¡ í˜ì´ì§€ë„¤ì´ì…˜ ì „í™˜ (results.ts ì „ë©´ ë¦¬íŒ©í† ë§)*
